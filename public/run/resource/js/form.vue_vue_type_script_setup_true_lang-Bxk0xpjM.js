import{a2 as B,d as E,n,q as F,G as x,r,o as z,g as A,h as s,b as t,v as N,u as _,e as V,y as P,z as g}from"./index-BA19eJmX.js";import{u as T}from"./publicStyle-21uR1UcM.js";const G=B({name:[{required:!0,message:"角色名称为必填项",trigger:"blur"}],code:[{required:!0,message:"角色标识为必填项",trigger:"blur"}]}),H={class:"w-full pb-2 bg-bg_color overflow-auto"},L={class:"flex flex-wrap"},J=E({__name:"form",props:{formInline:{default:()=>({name:"",status:1,remark:"",menu_ids:[]})},treeMenuData:{default:()=>({treeData:[],treeIds:[],treeSelected:[]})}},setup(h,{expose:w}){const b=h,I={value:"id",label:"title",children:"children"},k=n(),{switchStyle:C}=T(),u=n(b.formInline),d=n(b.treeMenuData);F(()=>{a.value.setCheckedKeys(d.value.treeSelected)});function R(){return k.value}function S(){return a.value}const a=n(),y=n(),i=n(!1),c=n(!1),p=n(!1);x(i,o=>{o?a.value.setExpandedKeys(d.value.treeIds):a.value.setExpandedKeys([])}),x(c,o=>{o?a.value.setCheckedKeys(d.value.treeIds):a.value.setCheckedKeys([])});const U=o=>{a.value.filter(o)},D=(o,e)=>g(e.title).includes(o);return w({getRef:R,getTreeRef:S}),(o,e)=>{const f=r("el-input"),m=r("el-form-item"),K=r("el-switch"),v=r("el-checkbox"),M=r("el-tree-v2"),q=r("el-form");return z(),A(q,{ref_key:"ruleFormRef",ref:k,model:u.value,rules:_(G),"label-width":"82px"},{default:s(()=>[t(m,{label:"角色名称",prop:"name"},{default:s(()=>[t(f,{modelValue:u.value.name,"onUpdate:modelValue":e[0]||(e[0]=l=>u.value.name=l),clearable:"",placeholder:"请输入角色名称"},null,8,["modelValue"])]),_:1}),t(m,{label:"用户状态"},{default:s(()=>[t(K,{modelValue:u.value.status,"onUpdate:modelValue":e[1]||(e[1]=l=>u.value.status=l),"inline-prompt":"","active-value":1,"inactive-value":0,"active-text":"启用","inactive-text":"停用",style:N(_(C))},null,8,["modelValue","style"])]),_:1}),t(m,{label:"备注"},{default:s(()=>[t(f,{modelValue:u.value.remark,"onUpdate:modelValue":e[2]||(e[2]=l=>u.value.remark=l),placeholder:"请输入备注信息",type:"textarea"},null,8,["modelValue"])]),_:1}),t(m,{label:"权限"},{default:s(()=>[V("div",H,[t(f,{modelValue:y.value,"onUpdate:modelValue":e[3]||(e[3]=l=>y.value=l),placeholder:"请输入菜单进行搜索",class:"mb-1",clearable:"",onInput:U},null,8,["modelValue"]),V("div",L,[t(v,{modelValue:i.value,"onUpdate:modelValue":e[4]||(e[4]=l=>i.value=l),label:"展开/折叠"},null,8,["modelValue"]),t(v,{modelValue:c.value,"onUpdate:modelValue":e[5]||(e[5]=l=>c.value=l),label:"全选/全不选"},null,8,["modelValue"]),t(v,{modelValue:p.value,"onUpdate:modelValue":e[6]||(e[6]=l=>p.value=l),label:"父子联动"},null,8,["modelValue"])]),t(M,{ref_key:"treeRef",ref:a,"show-checkbox":"",data:d.value.treeData,props:I,"filter-method":D,"check-strictly":!p.value},{default:s(({node:l})=>[V("span",null,P(_(g)(l.label)),1)]),_:1},8,["data","check-strictly"])])]),_:1})]),_:1},8,["model","rules"])}}});export{J as _};
