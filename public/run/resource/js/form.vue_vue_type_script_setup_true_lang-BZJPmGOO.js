import{R as i}from"./index-_Lri3Guu.js";import{a2 as B,aT as L,aX as S,d as D,n as v,r,o as d,g as V,h as t,b as e,u as s,e as E,y as b,c as g,C as I,F as N,t as O,v as P}from"./index-BA19eJmX.js";import{u as q}from"./publicStyle-21uR1UcM.js";const z=B({name:[{required:!0,message:"部门名称为必填项",trigger:"blur"}],phone:[{validator:(p,u,n)=>{u===""||L(u)?n():n(new Error("请输入正确的手机号码格式"))},trigger:"blur"}],email:[{validator:(p,u,n)=>{u===""||S(u)?n():n(new Error("请输入正确的邮箱格式"))},trigger:"blur"}]}),H={key:0},j=D({__name:"form",props:{formInline:{default:()=>({higherDeptOptions:[],pid:0,name:"",staff_id:0,phone:"",email:"",sort:0,status:1,remark:"",staffList:[]})}},setup(p,{expose:u}){const n=p,f=v(),{switchStyle:x}=q(),a=v(n.formInline);function w(){return f.value}return u({getRef:w}),(J,o)=>{const y=r("el-cascader"),m=r("el-form-item"),_=r("el-input"),h=r("el-option"),k=r("el-select"),C=r("el-input-number"),R=r("el-switch"),U=r("el-row"),F=r("el-form");return d(),V(F,{ref_key:"ruleFormRef",ref:f,model:a.value,rules:s(z),"label-width":"82px"},{default:t(()=>[e(U,{gutter:30},{default:t(()=>[e(s(i),null,{default:t(()=>[e(m,{label:"上级部门"},{default:t(()=>[e(y,{modelValue:a.value.pid,"onUpdate:modelValue":o[0]||(o[0]=l=>a.value.pid=l),class:"w-full",options:a.value.higherDeptOptions,props:{value:"id",label:"name",emitPath:!1,checkStrictly:!0},clearable:"",filterable:"",placeholder:"请选择上级部门"},{default:t(({node:l,data:c})=>[E("span",null,b(c.name),1),l.isLeaf?I("",!0):(d(),g("span",H," ("+b(c.children.length)+") ",1))]),_:1},8,["modelValue","options"])]),_:1})]),_:1}),e(s(i),{value:12,xs:24,sm:24},{default:t(()=>[e(m,{label:"部门名称",prop:"name"},{default:t(()=>[e(_,{modelValue:a.value.name,"onUpdate:modelValue":o[1]||(o[1]=l=>a.value.name=l),clearable:"",placeholder:"请输入部门名称"},null,8,["modelValue"])]),_:1})]),_:1}),e(s(i),{value:12,xs:24,sm:24},{default:t(()=>[e(m,{label:"部门负责人"},{default:t(()=>[e(k,{modelValue:a.value.staff_id,"onUpdate:modelValue":o[2]||(o[2]=l=>a.value.staff_id=l),"value-key":"staff_id",filterable:"",clearable:"",placeholder:"请选择部门负责人",style:{width:"240px"}},{default:t(()=>[(d(!0),g(N,null,O(a.value.staffList,l=>(d(),V(h,{key:l.id,label:l.username,value:l.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(s(i),{value:12,xs:24,sm:24},{default:t(()=>[e(m,{label:"排序"},{default:t(()=>[e(C,{modelValue:a.value.sort,"onUpdate:modelValue":o[3]||(o[3]=l=>a.value.sort=l),class:"!w-full",min:0,max:9999,"controls-position":"right"},null,8,["modelValue"])]),_:1})]),_:1}),e(s(i),{value:12,xs:24,sm:24},{default:t(()=>[e(m,{label:"部门状态"},{default:t(()=>[e(R,{modelValue:a.value.status,"onUpdate:modelValue":o[4]||(o[4]=l=>a.value.status=l),"inline-prompt":"","active-value":1,"inactive-value":0,"active-text":"启用","inactive-text":"停用",style:P(s(x))},null,8,["modelValue","style"])]),_:1})]),_:1}),e(s(i),null,{default:t(()=>[e(m,{label:"备注"},{default:t(()=>[e(_,{modelValue:a.value.remark,"onUpdate:modelValue":o[5]||(o[5]=l=>a.value.remark=l),placeholder:"请输入备注信息",type:"textarea"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"])}}});export{j as _};
