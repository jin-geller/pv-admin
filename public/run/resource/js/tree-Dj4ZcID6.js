var Q=Object.defineProperty,W=Object.defineProperties;var X=Object.getOwnPropertyDescriptors;var R=Object.getOwnPropertySymbols;var Y=Object.prototype.hasOwnProperty,ee=Object.prototype.propertyIsEnumerable;var j=(o,t,n)=>t in o?Q(o,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):o[t]=n,g=(o,t)=>{for(var n in t||(t={}))Y.call(t,n)&&j(o,n,t[n]);if(R)for(var n of R(t))ee.call(t,n)&&j(o,n,t[n]);return o},x=(o,t)=>W(o,X(t));import{o as C,c as b,e as m,d as te,n as _,p as oe,G as le,r as d,j as ne,w as D,b as l,h as i,D as ae,T as y,u as h,f as w,y as E,v as L,A as re,_ as se}from"./index-BgaAjVjm.js";import{u as A}from"./hooks-KDYNtrFv.js";import{d as ie}from"./git-branch-line-BhusJOme.js";const ce={width:24,height:24,body:'<path fill="currentColor" d="M18.537 19.567A9.961 9.961 0 0 1 12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10c0 2.136-.67 4.116-1.81 5.74L17 12h3a8 8 0 1 0-2.46 5.772l.997 1.795Z"/>'},de=ce,he={width:24,height:24,body:'<path fill="currentColor" d="M12 3c-1.1 0-2 .9-2 2s.9 2 2 2s2-.9 2-2s-.9-2-2-2Zm0 14c-1.1 0-2 .9-2 2s.9 2 2 2s2-.9 2-2s-.9-2-2-2Zm0-7c-1.1 0-2 .9-2 2s.9 2 2 2s2-.9 2-2s-.9-2-2-2Z"/>'},ue=he,pe={width:1024,height:1024,body:'<path fill="currentColor" d="M192 128v704h384V128H192zm-32-64h448a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32z"/><path fill="currentColor" d="M256 256h256v64H256v-64zm0 192h256v64H256v-64zm0 192h256v64H256v-64zm384-128h128v64H640v-64zm0 128h128v64H640v-64zM64 832h896v64H64v-64z"/><path fill="currentColor" d="M640 384v448h192V384H640zm-32-64h256a32 32 0 0 1 32 32v512a32 32 0 0 1-32 32H608a32 32 0 0 1-32-32V352a32 32 0 0 1 32-32z"/>'},fe=pe,ve={width:1024,height:1024,body:'<path fill="currentColor" d="M288 896h448q32 0 32 32t-32 32H288q-32 0-32-32t32-32z"/><path fill="currentColor" d="M800 416a288 288 0 1 0-576 0c0 118.144 94.528 272.128 288 456.576C705.472 688.128 800 534.144 800 416zM512 960C277.312 746.688 160 565.312 160 416a352 352 0 0 1 704 0c0 149.312-117.312 330.688-352 544z"/><path fill="currentColor" d="M544 384h96a32 32 0 1 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64h96v-96a32 32 0 0 1 64 0v96z"/>'},_e=ve,me={width:"32",height:"32",viewBox:"0 0 24 24"},ge=m("path",{fill:"currentColor",d:"M22 4V2H2v2h9v14.17l-5.5-5.5-1.42 1.41L12 22l7.92-7.92-1.42-1.41-5.5 5.5V4z"},null,-1),xe=[ge];function ye(o,t){return C(),b("svg",me,[...xe])}const we={render:ye},Ce={width:"32",height:"32",viewBox:"0 0 24 24"},be=m("path",{fill:"currentColor",d:"M4 2H2v20h2v-9h14.17l-5.5 5.5 1.41 1.42L22 12l-7.92-7.92-1.41 1.42 5.5 5.5H4z"},null,-1),ze=[be];function ke(o,t){return C(),b("svg",Ce,[...ze])}const He={render:ke},Me={class:"flex items-center h-[34px]"},Ve=te({__name:"tree",props:{treeLoading:Boolean,treeData:Array},emits:["tree-select","reset-form"],setup(o,{expose:t,emit:n}){const z=n,k=_(),p=_(!0),u=_(""),r=_({}),{proxy:S}=re(),Z={children:"children",label:"name"},H=oe(()=>["!h-[20px]","!text-sm","reset-margin","!text-[var(--el-text-color-regular)]","dark:!text-white","dark:hover:!text-primary"]),T=(a,e)=>a?e.name.includes(a):!0;function q(a){var s,f;const e=a.$treeNodeId;r.value[e]=(s=r.value[e])!=null&&s.highlight?Object.assign({id:e},r.value[e],{highlight:!1}):Object.assign({id:e},r.value[e],{highlight:!0}),Object.values(r.value).forEach(v=>{v.id!==e&&(v.highlight=!1)}),z("tree-select",(f=r.value[e])!=null&&f.highlight?Object.assign(x(g({},a),{selected:!0})):Object.assign(x(g({},a),{selected:!1})))}function M(a){p.value=a;const e=S.$refs.treeRef.store._getAllNodes();for(let s=0;s<e.length;s++)e[s].expanded=a}function U(){r.value={},u.value="",M(!0)}return le(u,a=>{k.value.filter(a)}),t({onTreeReset:U}),(a,e)=>{const s=d("IconifyIconOffline"),f=d("el-icon"),v=d("el-input"),V=d("el-button"),$=d("el-dropdown-item"),F=d("el-dropdown-menu"),G=d("el-dropdown"),P=d("el-divider"),J=d("el-tree"),K=ne("loading");return D((C(),b("div",{class:"h-full bg-bg_color overflow-auto",style:L({minHeight:"calc(100vh - 141px)"})},[m("div",Me,[l(v,{modelValue:u.value,"onUpdate:modelValue":e[0]||(e[0]=c=>u.value=c),class:"ml-2",size:"small",placeholder:"请输入部门名称",clearable:""},{suffix:i(()=>[l(f,{class:"el-input__icon"},{default:i(()=>[D(l(s,{icon:"ri:search-line"},null,512),[[ae,u.value.length===0]])]),_:1})]),_:1},8,["modelValue"]),l(G,{"hide-on-click":!1},{dropdown:i(()=>[l(F,null,{default:i(()=>[l($,null,{default:i(()=>[l(V,{class:y(H.value),link:"",type:"primary",icon:h(A)(p.value?h(we):h(He)),onClick:e[1]||(e[1]=c=>M(!p.value))},{default:i(()=>[w(E(p.value?"折叠全部":"展开全部"),1)]),_:1},8,["class","icon"])]),_:1}),l($,null,{default:i(()=>[l(V,{class:y(H.value),link:"",type:"primary",icon:h(A)(h(de)),onClick:e[2]||(e[2]=c=>z("reset-form"))},{default:i(()=>[w(" 重置状态 ")]),_:1},8,["class","icon"])]),_:1})]),_:1})]),default:i(()=>[l(s,{class:"w-[28px] cursor-pointer",width:"18px",icon:h(ue)},null,8,["icon"])]),_:1})]),l(P),l(J,{ref_key:"treeRef",ref:k,data:o.treeData,"node-key":"id",size:"small",props:Z,"default-expand-all":"","expand-on-click-node":!1,"filter-node-method":T,onNodeClick:q},{default:i(({node:c,data:I})=>{var O,B,N;return[m("span",{class:y(["pl-1","pr-1","rounded","flex","items-center","select-none","hover:text-primary",u.value.trim().length>0&&c.name.includes(u.value)&&"text-red-500",(O=r.value[c.id])!=null&&O.highlight?"dark:text-primary":""]),style:L({color:(B=r.value[c.id])!=null&&B.highlight?"var(--el-color-primary)":"",background:(N=r.value[c.id])!=null&&N.highlight?"var(--el-color-primary-light-7)":"transparent"})},[l(s,{icon:I.type===1?h(fe):I.type===2?h(_e):h(ie)},null,8,["icon"]),w(" "+E(c.label),1)],6)]}),_:1},8,["data"])],4)),[[K,o.treeLoading]])}}}),Ne=se(Ve,[["__scopeId","data-v-b6ddcf82"]]);export{Ne as default};
