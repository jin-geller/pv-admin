var $=(R,d,s)=>new Promise((c,p)=>{var m=o=>{try{r(s.next(o))}catch(i){p(i)}},v=o=>{try{r(s.throw(o))}catch(i){p(i)}},r=o=>o.done?c(o.value):Promise.resolve(o.value).then(m,v);r((s=s.apply(R,d)).next())});import{useRole as q}from"./hook-BE64CjQn.js";import{R as L}from"./index-Bknhlzue.js";import{u as Z}from"./hooks-KDYNtrFv.js";import{d as G,p as J,n as h,q as K,X as Y,H as ee,W as te,aZ as oe,r as u,j as le,o as g,c as B,e as a,b as n,h as V,u as e,g as ae,f as ne,C as N,T as _,R as U,w as j,y as M,Q as x,_ as se}from"./index-BgaAjVjm.js";import{d as re,a as ie}from"./close-CObHKOmY.js";import{d as ce}from"./check-CIQVCvCT.js";import"./form.vue_vue_type_script_setup_true_lang-Cx_XzLLk.js";import"./viewsPublic-BlInyJTa.js";import"./role-DGTjRGUm.js";import"./index-CTRvZZ69.js";import"./base-C5PwI6TN.js";import"./menu-DM2e6oQq.js";import"./index-BQG-VB-T.js";import"./sortable.esm-DUfXNDJ2.js";import"./epTheme-K8uHCORF.js";const pe={class:"main"},ue={key:0,class:"!min-w-[calc(100vw-60vw-236px)] px-2 pb-2 bg-bg_color ml-2 overflow-auto"},de={class:"flex justify-between w-full px-3 pt-5 pb-4"},me={class:"flex"},fe={class:"font-bold truncate"},he={class:"flex flex-wrap"},_e=G({name:"SystemRole",__name:"index",setup(R){const d=J(()=>["w-[22px]","h-[22px]","flex","justify-center","items-center","outline-none","rounded-[4px]","cursor-pointer","transition-colors","hover:bg-[#0000000f]","dark:hover:bg-[#ffffff1f]","dark:hover:text-[#ffffffd9]"]),s=h(),c=h(),p=h(),m=h(),{api:v,auth:r,columns:o,isShow:i,curRow:C,isExpandAll:b,isSelectAll:k,isLinkage:f,handleMenu:I,handleSave:O,treeSearchValue:w,onQueryChanged:z,treeData:A,treeProps:E,filterMethod:F,transformI18n:H,editForm:P}=q(c,s);return K(()=>{Y(p,()=>$(this,null,function*(){yield ee(),te(60).then(()=>{m.value=parseFloat(oe(c.value.getTableRef().getTableDoms().tableWrapper.style.height,"px"))})}))}),(xe,l)=>{var D;const Q=u("el-button"),S=u("IconifyIconOffline"),W=u("el-input"),y=u("el-checkbox"),X=u("el-tree-v2"),T=le("tippy");return g(),B("div",pe,[a("div",{ref_key:"contentRef",ref:p,class:_(["flex",e(U)()?"flex-wrap":""])},[n(e(L),{ref_key:"tableRef",ref:c,class:_([e(i)&&!e(U)()?"!w-[60vw]":"w-full"]),style:{transition:"width 220ms cubic-bezier(0.4, 0, 0.2, 1)"},api:e(v),auth:e(r),"table-columns":e(o),"diy-unfold":!0,"is-search":!0,"edit-form":e(P),"locale-name":"role"},{extOperation:V(({row:t})=>[e(r).auth?(g(),ae(Q,{key:0,class:"reset-margin",link:"",type:"primary",icon:e(Z)(e(re)),onClick:ve=>e(I)(t)},{default:V(()=>[ne(" 权限 ")]),_:2},1032,["icon","onClick"])):N("",!0)]),_:1},8,["class","api","auth","table-columns","edit-form"]),e(i)?(g(),B("div",ue,[a("div",de,[a("div",me,[a("span",{class:_(d.value)},[j(n(S,{class:"dark:text-white",width:"18px",height:"18px",icon:e(ie),onClick:e(I)},null,8,["icon","onClick"]),[[T,{content:"关闭"}]])],2),a("span",{class:_([d.value,"ml-2"])},[j(n(S,{class:"dark:text-white",width:"18px",height:"18px",icon:e(ce),onClick:e(O)},null,8,["icon","onClick"]),[[T,{content:"保存菜单权限"}]])],2)]),a("p",fe," 菜单权限 "+M(`${(D=e(C))!=null&&D.name?`（${e(C).name}）`:""}`),1)]),n(W,{modelValue:e(w),"onUpdate:modelValue":l[0]||(l[0]=t=>x(w)?w.value=t:null),placeholder:"请输入菜单进行搜索",class:"mb-1",clearable:"",onInput:e(z)},null,8,["modelValue","onInput"]),a("div",he,[n(y,{modelValue:e(b),"onUpdate:modelValue":l[1]||(l[1]=t=>x(b)?b.value=t:null),label:"展开/折叠"},null,8,["modelValue"]),n(y,{modelValue:e(k),"onUpdate:modelValue":l[2]||(l[2]=t=>x(k)?k.value=t:null),label:"全选/全不选"},null,8,["modelValue"]),n(y,{modelValue:e(f),"onUpdate:modelValue":l[3]||(l[3]=t=>x(f)?f.value=t:null),label:"父子联动"},null,8,["modelValue"])]),n(X,{ref_key:"treeRef",ref:s,"show-checkbox":"",data:e(A),props:e(E),height:m.value,"filter-method":e(F),"check-strictly":!e(f)},{default:V(({node:t})=>[a("span",null,M(e(H)(t.label)),1)]),_:1},8,["data","props","height","filter-method","check-strictly"])])):N("",!0)],2)])}}}),je=se(_e,[["__scopeId","data-v-075694ee"]]);export{je as default};
