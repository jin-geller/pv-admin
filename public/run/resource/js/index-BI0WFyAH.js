import H from"./tree-Dj4ZcID6.js";import{useStaff as F}from"./hook-DYDO6jD6.js";import{R as N}from"./index-Bknhlzue.js";import{u as i}from"./hooks-KDYNtrFv.js";import{d as P}from"./admin-line-CpqWPwjZ.js";import{d as j,n as h,r as c,j as I,o as d,c as U,b as o,T as a,u as e,e as E,h as t,w as v,g as w,f as k,_ as O}from"./index-BgaAjVjm.js";import"./git-branch-line-BhusJOme.js";import"./role.vue_vue_type_script_setup_true_lang-C-EIc5Jc.js";import"./index-C2Miptc4.js";import"./user-DNtD0Fqa.js";import"./viewsPublic-BlInyJTa.js";import"./role-DGTjRGUm.js";import"./index-CTRvZZ69.js";import"./base-C5PwI6TN.js";import"./staff-BEEyWxoY.js";import"./rule-C1DTaG1O.js";import"./index-BQG-VB-T.js";import"./sortable.esm-DUfXNDJ2.js";import"./epTheme-K8uHCORF.js";const q={width:24,height:24,body:'<path fill="currentColor" d="M3 19h18v2H3v-2ZM13 5.828V17h-2V5.828L4.929 11.9l-1.414-1.414L12 2l8.485 8.485l-1.414 1.415L13 5.827Z"/>'},A=q,G={width:24,height:24,body:'<path fill="currentColor" d="M18 8h2a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h2V7a6 6 0 1 1 12 0v1ZM5 10v10h14V10H5Zm6 4h2v2h-2v-2Zm-4 0h2v2H7v-2Zm8 0h2v2h-2v-2Zm1-6V7a4 4 0 0 0-8 0v1h8Z"/>'},J=G,K={width:1024,height:1024,body:'<path fill="currentColor" d="M176 416a112 112 0 1 1 0 224a112 112 0 0 1 0-224zm336 0a112 112 0 1 1 0 224a112 112 0 0 1 0-224zm336 0a112 112 0 1 1 0 224a112 112 0 0 1 0-224z"/>'},Q=K,W=j({name:"Staff",__name:"index",setup(X){const m=h(),b=h(),y=h(),{api:x,auth:R,columns:V,deviceDetection:p,treeData:g,treeLoading:Z,resetForm:$,onTreeSelect:T,editForm:D,buttonClass:u,handleUpload:L,handleReset:M,handleRole:z}=F(y,m);return(Y,l)=>{const r=c("el-button"),f=c("el-dropdown-item"),S=c("el-dropdown-menu"),B=c("el-dropdown"),_=I("auth");return d(),U("div",{class:a(["flex","justify-between",e(p)()&&"flex-wrap"])},[o(H,{ref_key:"treeRef",ref:m,class:a(["mr-2",e(p)()?"w-full":"min-w-[200px]"]),treeData:e(g),treeLoading:e(Z),onTreeSelect:e(T),onResetForm:l[0]||(l[0]=n=>e($)(b.value))},null,8,["class","treeData","treeLoading","onTreeSelect"]),E("div",{class:a([e(p)()?["w-full","mt-2"]:"w-[calc(100%-200px)]"])},[o(e(N),{ref_key:"tableRef",ref:y,api:e(x),auth:e(R),"edit-form":e(D),"table-columns":e(V),"diy-unfold":!0,"is-search":!0,"locale-name":"staff",onPlusReset:l[1]||(l[1]=n=>m.value.onTreeReset())},{extOperation:t(({row:n,size:s})=>[o(B,null,{dropdown:t(()=>[o(S,null,{default:t(()=>[o(f,null,{default:t(()=>[v((d(),w(r,{class:a(e(u)),link:"",type:"primary",size:s,icon:e(i)(e(A)),onClick:C=>e(L)(n)},{default:t(()=>[k(" 上传头像 ")]),_:2},1032,["class","size","icon","onClick"])),[[_,"upload_icon"]])]),_:2},1024),o(f,null,{default:t(()=>[v((d(),w(r,{class:a(e(u)),link:"",type:"primary",size:s,icon:e(i)(e(J)),onClick:C=>e(M)(n)},{default:t(()=>[k(" 重置密码 ")]),_:2},1032,["class","size","icon","onClick"])),[[_,"reset_pass"]])]),_:2},1024),o(f,null,{default:t(()=>[v((d(),w(r,{class:a(e(u)),link:"",type:"primary",size:s,icon:e(i)(e(P)),onClick:C=>e(z)(n)},{default:t(()=>[k(" 分配角色 ")]),_:2},1032,["class","size","icon","onClick"])),[[_,"assign_role"]])]),_:2},1024)]),_:2},1024)]),default:t(()=>[o(r,{class:"ml-3 mt-[2px]",link:"",type:"primary",size:s,icon:e(i)(e(Q))},null,8,["size","icon"])]),_:2},1024)]),_:1},8,["api","auth","edit-form","table-columns"])],2)],2)}}}),ke=O(W,[["__scopeId","data-v-f7602280"]]);export{ke as default};
