import{useDept as S}from"./hook-DTbO3L1e.js";import{P as T}from"./index-DaM9kZQk.js";import{u as r}from"./hooks-Wm5s6Ksc.js";import{A as g,E,D as P}from"./add-circle-line-CoQjCwv9.js";import{d as A,n as b,r as d,j as F,o as n,c as I,b as f,h as t,w as s,g as c,u as e,f as m,_ as N}from"./index-BA19eJmX.js";import"./form.vue_vue_type_script_setup_true_lang-BZJPmGOO.js";import"./index-_Lri3Guu.js";import"./publicStyle-21uR1UcM.js";import"./department-0itGloVX.js";import"./staff-CNd9j2Aq.js";import"./sortable.esm-DUfXNDJ2.js";import"./epTheme-DMNTQLh-.js";const V={class:"main"},j=A({name:"Department",__name:"index",setup(z){b();const u=b(),{form:L,loading:k,columns:y,dataList:C,onSearch:x,resetForm:O,openDialog:p,handleDelete:D,handleSelectionChange:R}=S();return(q,_)=>{var h;const a=d("el-button"),B=d("el-popconfirm"),$=d("pure-table"),l=F("auth");return n(),I("div",V,[f(e(T),{title:"部门管理",columns:e(y),tableRef:(h=u.value)==null?void 0:h.getTableRef(),onRefresh:e(x)},{buttons:t(()=>[s((n(),c(a,{type:"primary",icon:e(r)(e(g)),onClick:_[0]||(_[0]=o=>e(p)())},{default:t(()=>[m(" 新增部门 ")]),_:1},8,["icon"])),[[l,"add"]])]),default:t(({size:o,dynamicColumns:w})=>[f($,{ref_key:"tableRef",ref:u,adaptive:"",adaptiveConfig:{offsetBottom:45},"align-whole":"center","row-key":"id",showOverflowTooltip:"","table-layout":"auto","default-expand-all":"",loading:e(k),size:o,data:e(C),columns:w,"header-cell-style":{background:"var(--el-fill-color-light)",color:"var(--el-text-color-primary)"},onSelectionChange:e(R)},{operation:t(({row:i})=>[s((n(),c(a,{class:"reset-margin",link:"",type:"primary",size:o,icon:e(r)(e(E)),onClick:v=>e(p)("修改",i)},{default:t(()=>[m(" 修改 ")]),_:2},1032,["size","icon","onClick"])),[[l,"edit"]]),s((n(),c(a,{class:"reset-margin",link:"",type:"primary",size:o,icon:e(r)(e(g)),onClick:v=>e(p)("新增",{pid:i.id})},{default:t(()=>[m(" 新增 ")]),_:2},1032,["size","icon","onClick"])),[[l,"add"]]),f(B,{title:`是否确认删除部门名称为${i.name}的这条数据`,onConfirm:v=>e(D)(i)},{reference:t(()=>[s((n(),c(a,{class:"reset-margin",link:"",type:"primary",size:o,icon:e(r)(e(P))},{default:t(()=>[m(" 删除 ")]),_:2},1032,["size","icon"])),[[l,"delete"]])]),_:2},1032,["title","onConfirm"])]),_:2},1032,["loading","size","data","columns","header-cell-style","onSelectionChange"])]),_:1},8,["columns","tableRef","onRefresh"])])}}}),te=N(j,[["__scopeId","data-v-f5c290ca"]]);export{te as default};
