var _i=Object.defineProperty,Ti=Object.defineProperties;var Si=Object.getOwnPropertyDescriptors;var ve=Object.getOwnPropertySymbols;var Ai=Object.prototype.hasOwnProperty,Ri=Object.prototype.propertyIsEnumerable;var ft=Math.pow,be=(a,t,e)=>t in a?_i(a,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[t]=e,X=(a,t)=>{for(var e in t||(t={}))Ai.call(t,e)&&be(a,e,t[e]);if(ve)for(var e of ve(t))Ri.call(t,e)&&be(a,e,t[e]);return a},et=(a,t)=>Ti(a,Si(t));var kt=(a,t,e)=>new Promise((i,s)=>{var r=c=>{try{o(e.next(c))}catch(l){s(l)}},n=c=>{try{o(e.throw(c))}catch(l){s(l)}},o=c=>c.done?i(c.value):Promise.resolve(c.value).then(r,n);o((e=e.apply(a,t)).next())});import{o as H,c as U,e as z,a as ki,d as Gt,n as P,p as Ct,q as Ve,ao as Oi,X as Li,u as Ft,W as Ii,I as Ni,b as S,w as Y,D as Ge,ap as Pi,aw as Bi,aA as $i,a$ as zi,b0 as Wi,b1 as ji,j as B,b2 as Yi,ay as Fe,r as _t,h as we,g as Hi,C as ye,y as Ot,b3 as Ui,B as Xi,a2 as Wt,aU as it,J as Vi,aX as Gi,aY as Fi,K as qi,G as Zi,P as Ki,aV as Qi,R as Lt,b4 as Ji,aO as ta,a_ as ea,aD as nt,b5 as jt,aj as xe,b6 as ia,b7 as aa,b8 as ra,b9 as sa,F as na}from"./index-BgaAjVjm.js";import{_ as oa}from"./role.vue_vue_type_script_setup_true_lang-C-EIc5Jc.js";import{u as Yt}from"./user-DNtD0Fqa.js";import{u as ca,f as ha,c as la}from"./viewsPublic-BlInyJTa.js";import{a as ua,g as da}from"./role-DGTjRGUm.js";import{s as It,g as fa}from"./staff-BEEyWxoY.js";import{R as pa}from"./rule-C1DTaG1O.js";import"./index-C2Miptc4.js";import"./index-CTRvZZ69.js";import"./hooks-KDYNtrFv.js";import"./base-C5PwI6TN.js";const qt=(a,t)=>a.push.apply(a,t),wt=a=>a.sort((t,e)=>t.i-e.i||t.j-e.j),Me=a=>{const t={};let e=1;return a.forEach(i=>{t[i]=e,e+=1}),t};var ga={4:[[1,2],[2,3]],5:[[1,3],[2,3],[2,4]],6:[[1,2],[2,4],[4,5]],7:[[1,3],[2,3],[4,5],[4,6]],8:[[2,4],[4,6]]};const De=2050,Ee=1e3,ma=ga,va=10,ba=1e4,qe=10,Ze=50,Ke=20,Qe=/^[A-Z\xbf-\xdf][^A-Z\xbf-\xdf]+$/,wa=/^[^A-Z\xbf-\xdf]+[A-Z\xbf-\xdf]$/,ya=/^[A-Z\xbf-\xdf]+$/,Je=/^[^a-z\xdf-\xff]+$/,xa=/^[a-z\xdf-\xff]+$/,Ma=/^[^A-Z\xbf-\xdf]+$/,Da=/[a-z\xdf-\xff]/,Ea=/[A-Z\xbf-\xdf]/,Ca=/[^A-Za-z\xbf-\xdf]/gi,_a=/^\d+$/,oe=new Date().getFullYear(),Ta={recentYear:/19\d\d|200\d|201\d|202\d/g},ti=[" ",",",";",":","|","/","\\","_",".","-"],Sa=ti.length;class Aa{match({password:t}){const e=[...this.getMatchesWithoutSeparator(t),...this.getMatchesWithSeparator(t)],i=this.filterNoise(e);return wt(i)}getMatchesWithSeparator(t){const e=[],i=/^(\d{1,4})([\s/\\_.-])(\d{1,2})\2(\d{1,4})$/;for(let s=0;s<=Math.abs(t.length-6);s+=1)for(let r=s+5;r<=s+9&&!(r>=t.length);r+=1){const n=t.slice(s,+r+1||9e9),o=i.exec(n);if(o!=null){const c=this.mapIntegersToDayMonthYear([parseInt(o[1],10),parseInt(o[3],10),parseInt(o[4],10)]);c!=null&&e.push({pattern:"date",token:n,i:s,j:r,separator:o[2],year:c.year,month:c.month,day:c.day})}}return e}getMatchesWithoutSeparator(t){const e=[],i=/^\d{4,8}$/,s=r=>Math.abs(r.year-oe);for(let r=0;r<=Math.abs(t.length-4);r+=1)for(let n=r+3;n<=r+7&&!(n>=t.length);n+=1){const o=t.slice(r,+n+1||9e9);if(i.exec(o)){const c=[],l=o.length;if(ma[l].forEach(([u,d])=>{const v=this.mapIntegersToDayMonthYear([parseInt(o.slice(0,u),10),parseInt(o.slice(u,d),10),parseInt(o.slice(d),10)]);v!=null&&c.push(v)}),c.length>0){let u=c[0],d=s(c[0]);c.slice(1).forEach(v=>{const m=s(v);m<d&&(u=v,d=m)}),e.push({pattern:"date",token:o,i:r,j:n,separator:"",year:u.year,month:u.month,day:u.day})}}}return e}filterNoise(t){return t.filter(e=>{let i=!1;const s=t.length;for(let r=0;r<s;r+=1){const n=t[r];if(e!==n&&n.i<=e.i&&n.j>=e.j){i=!0;break}}return!i})}mapIntegersToDayMonthYear(t){if(t[1]>31||t[1]<=0)return null;let e=0,i=0,s=0;for(let r=0,n=t.length;r<n;r+=1){const o=t[r];if(o>99&&o<Ee||o>De)return null;o>31&&(i+=1),o>12&&(e+=1),o<=0&&(s+=1)}return i>=2||e===3||s>=2?null:this.getDayMonth(t)}getDayMonth(t){const e=[[t[2],t.slice(0,2)],[t[0],t.slice(1,3)]],i=e.length;for(let s=0;s<i;s+=1){const[r,n]=e[s];if(Ee<=r&&r<=De){const o=this.mapIntegersToDayMonth(n);return o!=null?{year:r,month:o.month,day:o.day}:null}}for(let s=0;s<i;s+=1){const[r,n]=e[s],o=this.mapIntegersToDayMonth(n);if(o!=null)return{year:this.twoToFourDigitYear(r),month:o.month,day:o.day}}return null}mapIntegersToDayMonth(t){const e=[t,t.slice().reverse()];for(let i=0;i<e.length;i+=1){const s=e[i],r=s[0],n=s[1];if(r>=1&&r<=31&&n>=1&&n<=12)return{day:r,month:n}}return null}twoToFourDigitYear(t){return t>99?t:t>50?t+1900:t+2e3}}const tt=new Uint32Array(65536),Ra=(a,t)=>{const e=a.length,i=t.length,s=1<<e-1;let r=-1,n=0,o=e,c=e;for(;c--;)tt[a.charCodeAt(c)]|=1<<c;for(c=0;c<i;c++){let l=tt[t.charCodeAt(c)];const h=l|n;l|=(l&r)+r^r,n|=~(l|r),r&=l,n&s&&o++,r&s&&o--,n=n<<1|1,r=r<<1|~(h|n),n&=h}for(c=e;c--;)tt[a.charCodeAt(c)]=0;return o},ka=(a,t)=>{const e=t.length,i=a.length,s=[],r=[],n=Math.ceil(e/32),o=Math.ceil(i/32);for(let m=0;m<n;m++)r[m]=-1,s[m]=0;let c=0;for(;c<o-1;c++){let m=0,M=-1;const b=c*32,_=Math.min(32,i)+b;for(let y=b;y<_;y++)tt[a.charCodeAt(y)]|=1<<y;for(let y=0;y<e;y++){const D=tt[t.charCodeAt(y)],L=r[y/32|0]>>>y&1,A=s[y/32|0]>>>y&1,f=D|m,C=((D|A)&M)+M^M|D|A;let R=m|~(C|M),p=M&C;R>>>31^L&&(r[y/32|0]^=1<<y),p>>>31^A&&(s[y/32|0]^=1<<y),R=R<<1|L,p=p<<1|A,M=p|~(f|R),m=R&f}for(let y=b;y<_;y++)tt[a.charCodeAt(y)]=0}let l=0,h=-1;const u=c*32,d=Math.min(32,i-u)+u;for(let m=u;m<d;m++)tt[a.charCodeAt(m)]|=1<<m;let v=i;for(let m=0;m<e;m++){const M=tt[t.charCodeAt(m)],b=r[m/32|0]>>>m&1,_=s[m/32|0]>>>m&1,y=M|l,D=((M|_)&h)+h^h|M|_;let L=l|~(D|h),A=h&D;v+=L>>>i-1&1,v-=A>>>i-1&1,L>>>31^b&&(r[m/32|0]^=1<<m),A>>>31^_&&(s[m/32|0]^=1<<m),L=L<<1|b,A=A<<1|_,h=A|~(y|L),l=L&y}for(let m=u;m<d;m++)tt[a.charCodeAt(m)]=0;return v},Oa=(a,t)=>{if(a.length<t.length){const e=t;t=a,a=e}return t.length===0?a.length:a.length<=32?Ra(a,t):ka(a,t)},La=(a,t,e)=>{const i=a.length<=t.length,s=a.length<=e;return i||s?Math.ceil(a.length/4):e},Ia=(a,t,e)=>{let i=0;const s=Object.keys(t).find(r=>{const n=La(a,r,e);if(Math.abs(a.length-r.length)>n)return!1;const o=Oa(a,r),c=o<=n;return c&&(i=o),c});return s?{levenshteinDistance:i,levenshteinDistanceEntry:s}:{}};var Ce={a:["4","@"],b:["8"],c:["(","{","[","<"],d:["6","|)"],e:["3"],f:["#"],g:["6","9","&"],h:["#","|-|"],i:["1","!","|"],k:["<","|<"],l:["!","1","|","7"],m:["^^","nn","2n","/\\\\/\\\\"],n:["//"],o:["0","()"],q:["9"],u:["|_|"],s:["$","5"],t:["+","7"],v:["<",">","/"],w:["^/","uu","vv","2u","2v","\\\\/\\\\/"],x:["%","><"],z:["2"]},Ht={warnings:{straightRow:"straightRow",keyPattern:"keyPattern",simpleRepeat:"simpleRepeat",extendedRepeat:"extendedRepeat",sequences:"sequences",recentYears:"recentYears",dates:"dates",topTen:"topTen",topHundred:"topHundred",common:"common",similarToCommon:"similarToCommon",wordByItself:"wordByItself",namesByThemselves:"namesByThemselves",commonNames:"commonNames",userInputs:"userInputs",pwned:"pwned"},suggestions:{l33t:"l33t",reverseWords:"reverseWords",allUppercase:"allUppercase",capitalization:"capitalization",dates:"dates",recentYears:"recentYears",associatedYears:"associatedYears",sequences:"sequences",repeated:"repeated",longerKeyboardPattern:"longerKeyboardPattern",anotherWord:"anotherWord",useWords:"useWords",noNeed:"noNeed",pwned:"pwned"},timeEstimation:{ltSecond:"ltSecond",second:"second",seconds:"seconds",minute:"minute",minutes:"minutes",hour:"hour",hours:"hours",day:"day",days:"days",month:"month",months:"months",year:"year",years:"years",centuries:"centuries"}};class St{constructor(t=[]){this.parents=t,this.children=new Map}addSub(t,...e){const i=t.charAt(0);this.children.has(i)||this.children.set(i,new St([...this.parents,i]));let s=this.children.get(i);for(let r=1;r<t.length;r+=1){const n=t.charAt(r);s.hasChild(n)||s.addChild(n),s=s.getChild(n)}return s.subs=(s.subs||[]).concat(e),this}getChild(t){return this.children.get(t)}isTerminal(){return!!this.subs}addChild(t){this.hasChild(t)||this.children.set(t,new St([...this.parents,t]))}hasChild(t){return this.children.has(t)}}var _e=(a,t)=>(Object.entries(a).forEach(([e,i])=>{i.forEach(s=>{t.addSub(s,e)})}),t);class Na{constructor(){this.matchers={},this.l33tTable=Ce,this.trieNodeRoot=_e(Ce,new St),this.dictionary={userInputs:[]},this.rankedDictionaries={},this.rankedDictionariesMaxWordSize={},this.translations=Ht,this.graphs={},this.useLevenshteinDistance=!1,this.levenshteinThreshold=2,this.l33tMaxSubstitutions=100,this.maxLength=256,this.setRankedDictionaries()}setOptions(t={}){t.l33tTable&&(this.l33tTable=t.l33tTable,this.trieNodeRoot=_e(t.l33tTable,new St)),t.dictionary&&(this.dictionary=t.dictionary,this.setRankedDictionaries()),t.translations&&this.setTranslations(t.translations),t.graphs&&(this.graphs=t.graphs),t.useLevenshteinDistance!==void 0&&(this.useLevenshteinDistance=t.useLevenshteinDistance),t.levenshteinThreshold!==void 0&&(this.levenshteinThreshold=t.levenshteinThreshold),t.l33tMaxSubstitutions!==void 0&&(this.l33tMaxSubstitutions=t.l33tMaxSubstitutions),t.maxLength!==void 0&&(this.maxLength=t.maxLength)}setTranslations(t){if(this.checkCustomTranslations(t))this.translations=t;else throw new Error("Invalid translations object fallback to keys")}checkCustomTranslations(t){let e=!0;return Object.keys(Ht).forEach(i=>{if(i in t){const s=i;Object.keys(Ht[s]).forEach(r=>{r in t[s]||(e=!1)})}else e=!1}),e}setRankedDictionaries(){const t={},e={};Object.keys(this.dictionary).forEach(i=>{t[i]=Me(this.dictionary[i]),e[i]=this.getRankedDictionariesMaxWordSize(this.dictionary[i])}),this.rankedDictionaries=t,this.rankedDictionariesMaxWordSize=e}getRankedDictionariesMaxWordSize(t){const e=t.map(i=>typeof i!="string"?i.toString().length:i.length);return e.length===0?0:e.reduce((i,s)=>Math.max(i,s),-1/0)}buildSanitizedRankedDictionary(t){const e=[];return t.forEach(i=>{const s=typeof i;(s==="string"||s==="number"||s==="boolean")&&e.push(i.toString().toLowerCase())}),Me(e)}extendUserInputsDictionary(t){this.dictionary.userInputs||(this.dictionary.userInputs=[]);const e=[...this.dictionary.userInputs,...t];this.rankedDictionaries.userInputs=this.buildSanitizedRankedDictionary(e),this.rankedDictionariesMaxWordSize.userInputs=this.getRankedDictionariesMaxWordSize(e)}addMatcher(t,e){this.matchers[t]?console.info(`Matcher ${t} already exists`):this.matchers[t]=e}}const x=new Na;class Pa{constructor(t){this.defaultMatch=t}match({password:t}){const e=t.split("").reverse().join("");return this.defaultMatch({password:e}).map(i=>et(X({},i),{token:i.token.split("").reverse().join(""),reversed:!0,i:t.length-1-i.j,j:t.length-1-i.i}))}}class Ba{constructor({substr:t,limit:e,trieRoot:i}){this.buffer=[],this.finalPasswords=[],this.substr=t,this.limit=e,this.trieRoot=i}getAllPossibleSubsAtIndex(t){const e=[];let i=this.trieRoot;for(let s=t;s<this.substr.length;s+=1){const r=this.substr.charAt(s);if(i=i.getChild(r),!i)break;e.push(i)}return e}helper({onlyFullSub:t,isFullSub:e,index:i,subIndex:s,changes:r,lastSubLetter:n,consecutiveSubCount:o}){if(this.finalPasswords.length>=this.limit)return;if(i===this.substr.length){t===e&&this.finalPasswords.push({password:this.buffer.join(""),changes:r});return}const c=[...this.getAllPossibleSubsAtIndex(i)];let l=!1;for(let h=i+c.length-1;h>=i;h-=1){const u=c[h-i];if(u.isTerminal()){if(n===u.parents.join("")&&o>=3)continue;l=!0;const d=u.subs;for(const v of d){this.buffer.push(v);const m=r.concat({i:s,letter:v,substitution:u.parents.join("")});if(this.helper({onlyFullSub:t,isFullSub:e,index:h+1,subIndex:s+v.length,changes:m,lastSubLetter:u.parents.join(""),consecutiveSubCount:n===u.parents.join("")?o+1:1}),this.buffer.pop(),this.finalPasswords.length>=this.limit)return}}}if(!t||!l){const h=this.substr.charAt(i);this.buffer.push(h),this.helper({onlyFullSub:t,isFullSub:e&&!l,index:i+1,subIndex:s+1,changes:r,lastSubLetter:n,consecutiveSubCount:o}),this.buffer.pop()}}getAll(){return this.helper({onlyFullSub:!0,isFullSub:!0,index:0,subIndex:0,changes:[],lastSubLetter:void 0,consecutiveSubCount:0}),this.helper({onlyFullSub:!1,isFullSub:!0,index:0,subIndex:0,changes:[],lastSubLetter:void 0,consecutiveSubCount:0}),this.finalPasswords}}const $a=(a,t,e)=>new Ba({substr:a,limit:t,trieRoot:e}).getAll(),za=(a,t,e)=>{const s=a.changes.filter(l=>l.i<t).reduce((l,h)=>l-h.letter.length+h.substitution.length,t),r=a.changes.filter(l=>l.i>=t&&l.i<=e),n=r.reduce((l,h)=>l-h.letter.length+h.substitution.length,e-t+s),o=[],c=[];return r.forEach(l=>{o.findIndex(u=>u.letter===l.letter&&u.substitution===l.substitution)<0&&(o.push({letter:l.letter,substitution:l.substitution}),c.push(`${l.substitution} -> ${l.letter}`))}),{i:s,j:n,subs:o,subDisplay:c.join(", ")}};class Wa{constructor(t){this.defaultMatch=t}isAlreadyIncluded(t,e){return t.some(i=>Object.entries(i).every(([s,r])=>s==="subs"||r===e[s]))}match({password:t}){const e=[],i=$a(t,x.l33tMaxSubstitutions,x.trieNodeRoot);let s=!1,r=!0;return i.forEach(n=>{if(s)return;const o=this.defaultMatch({password:n.password,useLevenshtein:r});r=!1,o.forEach(c=>{s||(s=c.i===0&&c.j===t.length-1);const l=za(n,c.i,c.j),h=t.slice(l.i,+l.j+1||9e9),u=X(et(X({},c),{l33t:!0,token:h}),l),d=this.isAlreadyIncluded(e,u);h.toLowerCase()!==c.matchedWord&&!d&&e.push(u)})}),e.filter(n=>n.token.length>1)}}class ja{constructor(){this.l33t=new Wa(this.defaultMatch),this.reverse=new Pa(this.defaultMatch)}match({password:t}){const e=[...this.defaultMatch({password:t}),...this.reverse.match({password:t}),...this.l33t.match({password:t})];return wt(e)}defaultMatch({password:t,useLevenshtein:e=!0}){const i=[],s=t.length,r=t.toLowerCase();return Object.keys(x.rankedDictionaries).forEach(n=>{const o=x.rankedDictionaries[n],c=x.rankedDictionariesMaxWordSize[n],l=Math.min(c,s);for(let h=0;h<s;h+=1){const u=Math.min(h+l,s);for(let d=h;d<u;d+=1){const v=r.slice(h,+d+1||9e9),m=v in o;let M={};const b=h===0&&d===s-1;x.useLevenshteinDistance&&b&&!m&&e&&(M=Ia(v,o,x.levenshteinThreshold));const _=Object.keys(M).length!==0;if(m||_){const y=_?M.levenshteinDistanceEntry:v,D=o[y];i.push(X({pattern:"dictionary",i:h,j:d,token:t.slice(h,+d+1||9e9),matchedWord:v,rank:D,dictionaryName:n,reversed:!1,l33t:!1},M))}}}}),i}}class Ya{match({password:t,regexes:e=Ta}){const i=[];return Object.keys(e).forEach(s=>{const r=e[s];r.lastIndex=0;let n;for(;n=r.exec(t);)if(n){const o=n[0];i.push({pattern:"regex",token:o,i:n.index,j:n.index+n[0].length-1,regexName:s,regexMatch:n})}}),wt(i)}}var lt={nCk(a,t){let e=a;if(t>e)return 0;if(t===0)return 1;let i=1;for(let s=1;s<=t;s+=1)i*=e,i/=s,e-=1;return i},log10(a){return a===0?0:Math.log(a)/Math.log(10)},log2(a){return Math.log(a)/Math.log(2)},factorial(a){let t=1;for(let e=2;e<=a;e+=1)t*=e;return t}},Ha=({token:a})=>{let t=ft(va,a.length);t===Number.POSITIVE_INFINITY&&(t=Number.MAX_VALUE);let e;return a.length===1?e=qe+1:e=Ze+1,Math.max(t,e)},Ua=({year:a,separator:t})=>{let i=Math.max(Math.abs(a-oe),Ke)*365;return t&&(i*=4),i};const Xa=a=>{const t=a.split(""),e=t.filter(n=>n.match(Ea)).length,i=t.filter(n=>n.match(Da)).length;let s=0;const r=Math.min(e,i);for(let n=1;n<=r;n+=1)s+=lt.nCk(e+i,n);return s};var Va=a=>{const t=a.replace(Ca,"");if(t.match(Ma)||t.toLowerCase()===t)return 1;const e=[Qe,wa,Je],i=e.length;for(let s=0;s<i;s+=1){const r=e[s];if(t.match(r))return 2}return Xa(t)};const Te=(a,t)=>{let e=0,i=a.indexOf(t);for(;i>=0;)e+=1,i=a.indexOf(t,i+t.length);return e},Ga=({sub:a,token:t})=>{const e=t.toLowerCase(),i=Te(e,a.substitution),s=Te(e,a.letter);return{subbedCount:i,unsubbedCount:s}};var Fa=({l33t:a,subs:t,token:e})=>{if(!a)return 1;let i=1;return t.forEach(s=>{const{subbedCount:r,unsubbedCount:n}=Ga({sub:s,token:e});if(r===0||n===0)i*=2;else{const o=Math.min(n,r);let c=0;for(let l=1;l<=o;l+=1)c+=lt.nCk(n+r,l);i*=c}}),i},qa=({rank:a,reversed:t,l33t:e,subs:i,token:s,dictionaryName:r})=>{const n=a,o=Va(s),c=Fa({l33t:e,subs:i,token:s}),l=t&&2||1;let h;return r==="diceware"?h=ft(6,5)/2:h=n*o*c*l,{baseGuesses:n,uppercaseVariations:o,l33tVariations:c,calculation:h}},Za=({regexName:a,regexMatch:t,token:e})=>{const i={alphaLower:26,alphaUpper:26,alpha:52,alphanumeric:62,digits:10,symbols:33};if(a in i)return ft(i[a],e.length);switch(a){case"recentYear":return Math.max(Math.abs(parseInt(t[0],10)-oe),Ke)}return 0},Ka=({baseGuesses:a,repeatCount:t})=>a*t,Qa=({token:a,ascending:t})=>{const e=a.charAt(0);let i=0;return["a","A","z","Z","0","1","9"].includes(e)?i=4:e.match(/\d/)?i=10:i=26,t||(i*=2),i*a.length};const Ja=a=>{let t=0;return Object.keys(a).forEach(e=>{const i=a[e];t+=i.filter(s=>!!s).length}),t/=Object.entries(a).length,t},tr=({token:a,graph:t,turns:e})=>{const i=Object.keys(x.graphs[t]).length,s=Ja(x.graphs[t]);let r=0;const n=a.length;for(let o=2;o<=n;o+=1){const c=Math.min(e,o-1);for(let l=1;l<=c;l+=1)r+=lt.nCk(o-1,l-1)*i*ft(s,l)}return r};var er=({graph:a,token:t,shiftedCount:e,turns:i})=>{let s=tr({token:t,graph:a,turns:i});if(e){const r=t.length-e;if(e===0||r===0)s*=2;else{let n=0;for(let o=1;o<=Math.min(e,r);o+=1)n+=lt.nCk(e+r,o);s*=n}}return Math.round(s)},ir=()=>Sa;const ar=(a,t)=>{let e=1;return a.token.length<t.length&&(a.token.length===1?e=qe:e=Ze),e},Se={bruteforce:Ha,date:Ua,dictionary:qa,regex:Za,repeat:Ka,sequence:Qa,spatial:er,separator:ir},rr=(a,t)=>Se[a]?Se[a](t):x.matchers[a]&&"scoring"in x.matchers[a]?x.matchers[a].scoring(t):0;var sr=(a,t)=>{const e={};if("guesses"in a&&a.guesses!=null)return a;const i=ar(a,t),s=rr(a.pattern,a);let r=0;typeof s=="number"?r=s:a.pattern==="dictionary"&&(r=s.calculation,e.baseGuesses=s.baseGuesses,e.uppercaseVariations=s.uppercaseVariations,e.l33tVariations=s.l33tVariations);const n=Math.max(r,i);return et(X(X({},a),e),{guesses:n,guessesLog10:lt.log10(n)})};const F={password:"",optimal:{},excludeAdditive:!1,separatorRegex:void 0,fillArray(a,t){const e=[];for(let i=0;i<a;i+=1){let s=[];t==="object"&&(s={}),e.push(s)}return e},makeBruteforceMatch(a,t){return{pattern:"bruteforce",token:this.password.slice(a,+t+1||9e9),i:a,j:t}},update(a,t){const e=a.j,i=sr(a,this.password);let s=i.guesses;t>1&&(s*=this.optimal.pi[i.i-1][t-1]);let r=lt.factorial(t)*s;this.excludeAdditive||(r+=ft(ba,t-1));let n=!1;Object.keys(this.optimal.g[e]).forEach(o=>{const c=this.optimal.g[e][o];parseInt(o,10)<=t&&c<=r&&(n=!0)}),n||(this.optimal.g[e][t]=r,this.optimal.m[e][t]=i,this.optimal.pi[e][t]=s)},bruteforceUpdate(a){let t=this.makeBruteforceMatch(0,a);this.update(t,1);for(let e=1;e<=a;e+=1){t=this.makeBruteforceMatch(e,a);const i=this.optimal.m[e-1];Object.keys(i).forEach(s=>{i[s].pattern!=="bruteforce"&&this.update(t,parseInt(s,10)+1)})}},unwind(a){const t=[];let e=a-1,i=0,s=1/0;const r=this.optimal.g[e];for(r&&Object.keys(r).forEach(n=>{const o=r[n];o<s&&(i=parseInt(n,10),s=o)});e>=0;){const n=this.optimal.m[e][i];t.unshift(n),e=n.i-1,i-=1}return t}};var Zt={mostGuessableMatchSequence(a,t,e=!1){F.password=a,F.excludeAdditive=e;const i=a.length;let s=F.fillArray(i,"array");t.forEach(c=>{s[c.j].push(c)}),s=s.map(c=>c.sort((l,h)=>l.i-h.i)),F.optimal={m:F.fillArray(i,"object"),pi:F.fillArray(i,"object"),g:F.fillArray(i,"object")};for(let c=0;c<i;c+=1)s[c].forEach(l=>{l.i>0?Object.keys(F.optimal.m[l.i-1]).forEach(h=>{F.update(l,parseInt(h,10)+1)}):F.update(l,1)}),F.bruteforceUpdate(c);const r=F.unwind(i),n=r.length,o=this.getGuesses(a,n);return{password:a,guesses:o,guessesLog10:lt.log10(o),sequence:r}},getGuesses(a,t){const e=a.length;let i=0;return a.length===0?i=1:i=F.optimal.g[e-1][t],i}};class nr{match({password:t,omniMatch:e}){const i=[];let s=0;for(;s<t.length;){const n=this.getGreedyMatch(t,s),o=this.getLazyMatch(t,s);if(n==null)break;const{match:c,baseToken:l}=this.setMatchToken(n,o);if(c){const h=c.index+c[0].length-1,u=this.getBaseGuesses(l,e);i.push(this.normalizeMatch(l,h,c,u)),s=h+1}}return i.some(n=>n instanceof Promise)?Promise.all(i):i}normalizeMatch(t,e,i,s){const r={pattern:"repeat",i:i.index,j:e,token:i[0],baseToken:t,baseGuesses:0,repeatCount:i[0].length/t.length};return s instanceof Promise?s.then(n=>et(X({},r),{baseGuesses:n})):et(X({},r),{baseGuesses:s})}getGreedyMatch(t,e){const i=/(.+)\1+/g;return i.lastIndex=e,i.exec(t)}getLazyMatch(t,e){const i=/(.+?)\1+/g;return i.lastIndex=e,i.exec(t)}setMatchToken(t,e){const i=/^(.+?)\1+$/;let s,r="";if(e&&t[0].length>e[0].length){s=t;const n=i.exec(s[0]);n&&(r=n[1])}else s=e,s&&(r=s[1]);return{match:s,baseToken:r}}getBaseGuesses(t,e){const i=e.match(t);return i instanceof Promise?i.then(r=>Zt.mostGuessableMatchSequence(t,r).guesses):Zt.mostGuessableMatchSequence(t,i).guesses}}class or{constructor(){this.MAX_DELTA=5}match({password:t}){const e=[];if(t.length===1)return[];let i=0,s=null;const r=t.length;for(let n=1;n<r;n+=1){const o=t.charCodeAt(n)-t.charCodeAt(n-1);if(s==null&&(s=o),o!==s){const c=n-1;this.update({i,j:c,delta:s,password:t,result:e}),i=c,s=o}}return this.update({i,j:r-1,delta:s,password:t,result:e}),e}update({i:t,j:e,delta:i,password:s,result:r}){if(e-t>1||Math.abs(i)===1){const n=Math.abs(i);if(n>0&&n<=this.MAX_DELTA){const o=s.slice(t,+e+1||9e9),{sequenceName:c,sequenceSpace:l}=this.getSequence(o);return r.push({pattern:"sequence",i:t,j:e,token:s.slice(t,+e+1||9e9),sequenceName:c,sequenceSpace:l,ascending:i>0})}}return null}getSequence(t){let e="unicode",i=26;return xa.test(t)?(e="lower",i=26):ya.test(t)?(e="upper",i=26):_a.test(t)&&(e="digits",i=10),{sequenceName:e,sequenceSpace:i}}}class cr{constructor(){this.SHIFTED_RX=/[~!@#$%^&*()_+QWERTYUIOP{}|ASDFGHJKL:"ZXCVBNM<>?]/}match({password:t}){const e=[];return Object.keys(x.graphs).forEach(i=>{const s=x.graphs[i];qt(e,this.helper(t,s,i))}),wt(e)}checkIfShifted(t,e,i){return!t.includes("keypad")&&this.SHIFTED_RX.test(e.charAt(i))?1:0}helper(t,e,i){let s;const r=[];let n=0;const o=t.length;for(;n<o-1;){let c=n+1,l=null,h=0;for(s=this.checkIfShifted(i,t,n);;){const u=t.charAt(c-1),d=e[u]||[];let v=!1,m=-1,M=-1;if(c<o){const b=t.charAt(c),_=d.length;for(let y=0;y<_;y+=1){const D=d[y];if(M+=1,D){const L=D.indexOf(b);if(L!==-1){v=!0,m=M,L===1&&(s+=1),l!==m&&(h+=1,l=m);break}}}}if(v)c+=1;else{c-n>2&&r.push({pattern:"spatial",i:n,j:c-1,token:t.slice(n,c),graph:i,turns:h,shiftedCount:s}),n=c;break}}}return r}}const hr=new RegExp(`[${ti.join("")}]`);class Bt{static getMostUsedSeparatorChar(t){const e=[...t.split("").filter(s=>hr.test(s)).reduce((s,r)=>{const n=s.get(r);return n?s.set(r,n+1):s.set(r,1),s},new Map).entries()].sort(([s,r],[n,o])=>o-r);if(!e.length)return;const i=e[0];if(!(i[1]<2))return i[0]}static getSeparatorRegex(t){return new RegExp(`([^${t}
])(${t})(?!${t})`,"g")}match({password:t}){const e=[];if(t.length===0)return e;const i=Bt.getMostUsedSeparatorChar(t);if(i===void 0)return e;const s=Bt.getSeparatorRegex(i);for(const r of t.matchAll(s)){if(r.index===void 0)continue;const n=r.index+1;e.push({pattern:"separator",token:i,i:n,j:n})}return e}}class lr{constructor(){this.matchers={date:Aa,dictionary:ja,regex:Ya,repeat:nr,sequence:or,spatial:cr,separator:Bt}}match(t){const e=[],i=[];return[...Object.keys(this.matchers),...Object.keys(x.matchers)].forEach(r=>{if(!this.matchers[r]&&!x.matchers[r])return;const n=this.matchers[r]?this.matchers[r]:x.matchers[r].Matching,c=new n().match({password:t,omniMatch:this});c instanceof Promise?(c.then(l=>{qt(e,l)}),i.push(c)):qt(e,c)}),i.length>0?new Promise((r,n)=>{Promise.all(i).then(()=>{r(wt(e))}).catch(o=>{n(o)})}):wt(e)}}const ei=1,ii=ei*60,ai=ii*60,ri=ai*24,si=ri*31,ni=si*12,ur=ni*100,Ut={second:ei,minute:ii,hour:ai,day:ri,month:si,year:ni,century:ur};class dr{translate(t,e){let i=t;e!==void 0&&e!==1&&(i+="s");const{timeEstimation:s}=x.translations;return s[i].replace("{base}",`${e}`)}estimateAttackTimes(t){const e={onlineThrottling100PerHour:t/.027777777777777776,onlineNoThrottling10PerSecond:t/10,offlineSlowHashing1e4PerSecond:t/1e4,offlineFastHashing1e10PerSecond:t/1e10},i={onlineThrottling100PerHour:"",onlineNoThrottling10PerSecond:"",offlineSlowHashing1e4PerSecond:"",offlineFastHashing1e10PerSecond:""};return Object.keys(e).forEach(s=>{const r=e[s];i[s]=this.displayTime(r)}),{crackTimesSeconds:e,crackTimesDisplay:i,score:this.guessesToScore(t)}}guessesToScore(t){return t<1005?0:t<1000005?1:t<100000005?2:t<1e10+5?3:4}displayTime(t){let e="centuries",i;const s=Object.keys(Ut),r=s.findIndex(n=>t<Ut[n]);return r>-1&&(e=s[r-1],r!==0?i=Math.round(t/Ut[e]):e="ltSecond"),this.translate(e,i)}}var fr=()=>null,pr=()=>({warning:x.translations.warnings.dates,suggestions:[x.translations.suggestions.dates]});const gr=(a,t)=>{let e=null;return t&&!a.l33t&&!a.reversed?a.rank<=10?e=x.translations.warnings.topTen:a.rank<=100?e=x.translations.warnings.topHundred:e=x.translations.warnings.common:a.guessesLog10<=4&&(e=x.translations.warnings.similarToCommon),e},mr=(a,t)=>{let e=null;return t&&(e=x.translations.warnings.wordByItself),e},vr=(a,t)=>t?x.translations.warnings.namesByThemselves:x.translations.warnings.commonNames,br=(a,t)=>{let e=null;const i=a.dictionaryName,s=i==="lastnames"||i.toLowerCase().includes("firstnames");return i==="passwords"?e=gr(a,t):i.includes("wikipedia")?e=mr(a,t):s?e=vr(a,t):i==="userInputs"&&(e=x.translations.warnings.userInputs),e};var wr=(a,t)=>{const e=br(a,t),i=[],s=a.token;return s.match(Qe)?i.push(x.translations.suggestions.capitalization):s.match(Je)&&s.toLowerCase()!==s&&i.push(x.translations.suggestions.allUppercase),a.reversed&&a.token.length>=4&&i.push(x.translations.suggestions.reverseWords),a.l33t&&i.push(x.translations.suggestions.l33t),{warning:e,suggestions:i}},yr=a=>a.regexName==="recentYear"?{warning:x.translations.warnings.recentYears,suggestions:[x.translations.suggestions.recentYears,x.translations.suggestions.associatedYears]}:{warning:null,suggestions:[]},xr=a=>{let t=x.translations.warnings.extendedRepeat;return a.baseToken.length===1&&(t=x.translations.warnings.simpleRepeat),{warning:t,suggestions:[x.translations.suggestions.repeated]}},Mr=()=>({warning:x.translations.warnings.sequences,suggestions:[x.translations.suggestions.sequences]}),Dr=a=>{let t=x.translations.warnings.keyPattern;return a.turns===1&&(t=x.translations.warnings.straightRow),{warning:t,suggestions:[x.translations.suggestions.longerKeyboardPattern]}},Er=()=>null;const Ae={warning:null,suggestions:[]};class Cr{constructor(){this.matchers={bruteforce:fr,date:pr,dictionary:wr,regex:yr,repeat:xr,sequence:Mr,spatial:Dr,separator:Er},this.defaultFeedback={warning:null,suggestions:[]},this.setDefaultSuggestions()}setDefaultSuggestions(){this.defaultFeedback.suggestions.push(x.translations.suggestions.useWords,x.translations.suggestions.noNeed)}getFeedback(t,e){if(e.length===0)return this.defaultFeedback;if(t>2)return Ae;const i=x.translations.suggestions.anotherWord,s=this.getLongestMatch(e);let r=this.getMatchFeedback(s,e.length===1);return r!=null?r.suggestions.unshift(i):r={warning:null,suggestions:[i]},r}getLongestMatch(t){let e=t[0];return t.slice(1).forEach(s=>{s.token.length>e.token.length&&(e=s)}),e}getMatchFeedback(t,e){return this.matchers[t.pattern]?this.matchers[t.pattern](t,e):x.matchers[t.pattern]&&"feedback"in x.matchers[t.pattern]?x.matchers[t.pattern].feedback(t,e):Ae}}const oi=()=>new Date().getTime(),_r=(a,t,e)=>{const i=new Cr,s=new dr,r=Zt.mostGuessableMatchSequence(t,a),n=oi()-e,o=s.estimateAttackTimes(r.guesses);return et(X(X({calcTime:n},r),o),{feedback:i.getFeedback(o.score,r.sequence)})},Tr=(a,t)=>(t&&x.extendUserInputsDictionary(t),new lr().match(a)),Sr=(a,t)=>{const e=oi(),i=Tr(a,t);if(i instanceof Promise)throw new Error("You are using a Promised matcher, please use `zxcvbnAsync` for it.");return _r(i,a,e)};/*!
 * Cropper.js v1.6.2
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2024-04-21T07:43:05.335Z
 */function Re(a,t){var e=Object.keys(a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(a);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(a,s).enumerable})),e.push.apply(e,i)}return e}function ci(a){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?Re(Object(e),!0).forEach(function(i){Or(a,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(e)):Re(Object(e)).forEach(function(i){Object.defineProperty(a,i,Object.getOwnPropertyDescriptor(e,i))})}return a}function Ar(a,t){if(typeof a!="object"||!a)return a;var e=a[Symbol.toPrimitive];if(e!==void 0){var i=e.call(a,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(a)}function hi(a){var t=Ar(a,"string");return typeof t=="symbol"?t:t+""}function Kt(a){"@babel/helpers - typeof";return Kt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kt(a)}function Rr(a,t){if(!(a instanceof t))throw new TypeError("Cannot call a class as a function")}function ke(a,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(a,hi(i.key),i)}}function kr(a,t,e){return t&&ke(a.prototype,t),e&&ke(a,e),Object.defineProperty(a,"prototype",{writable:!1}),a}function Or(a,t,e){return t=hi(t),t in a?Object.defineProperty(a,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):a[t]=e,a}function li(a){return Lr(a)||Ir(a)||Nr(a)||Pr()}function Lr(a){if(Array.isArray(a))return Qt(a)}function Ir(a){if(typeof Symbol!="undefined"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}function Nr(a,t){if(a){if(typeof a=="string")return Qt(a,t);var e=Object.prototype.toString.call(a).slice(8,-1);if(e==="Object"&&a.constructor&&(e=a.constructor.name),e==="Map"||e==="Set")return Array.from(a);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return Qt(a,t)}}function Qt(a,t){(t==null||t>a.length)&&(t=a.length);for(var e=0,i=new Array(t);e<t;e++)i[e]=a[e];return i}function Pr(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var zt=typeof window!="undefined"&&typeof window.document!="undefined",Q=zt?window:{},ce=zt&&Q.document.documentElement?"ontouchstart"in Q.document.documentElement:!1,he=zt?"PointerEvent"in Q:!1,I="cropper",le="all",ui="crop",di="move",fi="zoom",ot="e",ct="w",pt="s",at="n",xt="ne",Mt="nw",Dt="se",Et="sw",Jt="".concat(I,"-crop"),Oe="".concat(I,"-disabled"),G="".concat(I,"-hidden"),Le="".concat(I,"-hide"),Br="".concat(I,"-invisible"),$t="".concat(I,"-modal"),te="".concat(I,"-move"),At="".concat(I,"Action"),Nt="".concat(I,"Preview"),ue="crop",pi="move",gi="none",ee="crop",ie="cropend",ae="cropmove",re="cropstart",Ie="dblclick",$r=ce?"touchstart":"mousedown",zr=ce?"touchmove":"mousemove",Wr=ce?"touchend touchcancel":"mouseup",Ne=he?"pointerdown":$r,Pe=he?"pointermove":zr,Be=he?"pointerup pointercancel":Wr,$e="ready",ze="resize",We="wheel",se="zoom",je="image/jpeg",jr=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,Yr=/^data:/,Hr=/^data:image\/jpeg;base64,/,Ur=/^img|canvas$/i,mi=200,vi=100,Ye={viewMode:0,dragMode:ue,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:mi,minContainerHeight:vi,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},Xr='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',Vr=Number.isNaN||Q.isNaN;function T(a){return typeof a=="number"&&!Vr(a)}var He=function(t){return t>0&&t<1/0};function Xt(a){return typeof a=="undefined"}function ht(a){return Kt(a)==="object"&&a!==null}var Gr=Object.prototype.hasOwnProperty;function gt(a){if(!ht(a))return!1;try{var t=a.constructor,e=t.prototype;return t&&e&&Gr.call(e,"isPrototypeOf")}catch(i){return!1}}function V(a){return typeof a=="function"}var Fr=Array.prototype.slice;function bi(a){return Array.from?Array.from(a):Fr.call(a)}function W(a,t){return a&&V(t)&&(Array.isArray(a)||T(a.length)?bi(a).forEach(function(e,i){t.call(a,e,i,a)}):ht(a)&&Object.keys(a).forEach(function(e){t.call(a,a[e],e,a)})),a}var N=Object.assign||function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),s=1;s<e;s++)i[s-1]=arguments[s];return ht(t)&&i.length>0&&i.forEach(function(r){ht(r)&&Object.keys(r).forEach(function(n){t[n]=r[n]})}),t},qr=/\.\d*(?:0|9){12}\d*$/;function vt(a){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return qr.test(a)?Math.round(a*t)/t:a}var Zr=/^width|height|left|top|marginLeft|marginTop$/;function rt(a,t){var e=a.style;W(t,function(i,s){Zr.test(s)&&T(i)&&(i="".concat(i,"px")),e[s]=i})}function Kr(a,t){return a.classList?a.classList.contains(t):a.className.indexOf(t)>-1}function j(a,t){if(t){if(T(a.length)){W(a,function(i){j(i,t)});return}if(a.classList){a.classList.add(t);return}var e=a.className.trim();e?e.indexOf(t)<0&&(a.className="".concat(e," ").concat(t)):a.className=t}}function K(a,t){if(t){if(T(a.length)){W(a,function(e){K(e,t)});return}if(a.classList){a.classList.remove(t);return}a.className.indexOf(t)>=0&&(a.className=a.className.replace(t,""))}}function mt(a,t,e){if(t){if(T(a.length)){W(a,function(i){mt(i,t,e)});return}e?j(a,t):K(a,t)}}var Qr=/([a-z\d])([A-Z])/g;function de(a){return a.replace(Qr,"$1-$2").toLowerCase()}function ne(a,t){return ht(a[t])?a[t]:a.dataset?a.dataset[t]:a.getAttribute("data-".concat(de(t)))}function Rt(a,t,e){ht(e)?a[t]=e:a.dataset?a.dataset[t]=e:a.setAttribute("data-".concat(de(t)),e)}function Jr(a,t){if(ht(a[t]))try{delete a[t]}catch(e){a[t]=void 0}else if(a.dataset)try{delete a.dataset[t]}catch(e){a.dataset[t]=void 0}else a.removeAttribute("data-".concat(de(t)))}var wi=/\s\s*/,yi=function(){var a=!1;if(zt){var t=!1,e=function(){},i=Object.defineProperty({},"once",{get:function(){return a=!0,t},set:function(r){t=r}});Q.addEventListener("test",e,i),Q.removeEventListener("test",e,i)}return a}();function Z(a,t,e){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=e;t.trim().split(wi).forEach(function(r){if(!yi){var n=a.listeners;n&&n[r]&&n[r][e]&&(s=n[r][e],delete n[r][e],Object.keys(n[r]).length===0&&delete n[r],Object.keys(n).length===0&&delete a.listeners)}a.removeEventListener(r,s,i)})}function q(a,t,e){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=e;t.trim().split(wi).forEach(function(r){if(i.once&&!yi){var n=a.listeners,o=n===void 0?{}:n;s=function(){delete o[r][e],a.removeEventListener(r,s,i);for(var l=arguments.length,h=new Array(l),u=0;u<l;u++)h[u]=arguments[u];e.apply(a,h)},o[r]||(o[r]={}),o[r][e]&&a.removeEventListener(r,o[r][e],i),o[r][e]=s,a.listeners=o}a.addEventListener(r,s,i)})}function bt(a,t,e){var i;return V(Event)&&V(CustomEvent)?i=new CustomEvent(t,{detail:e,bubbles:!0,cancelable:!0}):(i=document.createEvent("CustomEvent"),i.initCustomEvent(t,!0,!0,e)),a.dispatchEvent(i)}function xi(a){var t=a.getBoundingClientRect();return{left:t.left+(window.pageXOffset-document.documentElement.clientLeft),top:t.top+(window.pageYOffset-document.documentElement.clientTop)}}var Vt=Q.location,ts=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function Ue(a){var t=a.match(ts);return t!==null&&(t[1]!==Vt.protocol||t[2]!==Vt.hostname||t[3]!==Vt.port)}function Xe(a){var t="timestamp=".concat(new Date().getTime());return a+(a.indexOf("?")===-1?"?":"&")+t}function Tt(a){var t=a.rotate,e=a.scaleX,i=a.scaleY,s=a.translateX,r=a.translateY,n=[];T(s)&&s!==0&&n.push("translateX(".concat(s,"px)")),T(r)&&r!==0&&n.push("translateY(".concat(r,"px)")),T(t)&&t!==0&&n.push("rotate(".concat(t,"deg)")),T(e)&&e!==1&&n.push("scaleX(".concat(e,")")),T(i)&&i!==1&&n.push("scaleY(".concat(i,")"));var o=n.length?n.join(" "):"none";return{WebkitTransform:o,msTransform:o,transform:o}}function es(a){var t=ci({},a),e=0;return W(a,function(i,s){delete t[s],W(t,function(r){var n=Math.abs(i.startX-r.startX),o=Math.abs(i.startY-r.startY),c=Math.abs(i.endX-r.endX),l=Math.abs(i.endY-r.endY),h=Math.sqrt(n*n+o*o),u=Math.sqrt(c*c+l*l),d=(u-h)/h;Math.abs(d)>Math.abs(e)&&(e=d)})}),e}function Pt(a,t){var e=a.pageX,i=a.pageY,s={endX:e,endY:i};return t?s:ci({startX:e,startY:i},s)}function is(a){var t=0,e=0,i=0;return W(a,function(s){var r=s.startX,n=s.startY;t+=r,e+=n,i+=1}),t/=i,e/=i,{pageX:t,pageY:e}}function st(a){var t=a.aspectRatio,e=a.height,i=a.width,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",r=He(i),n=He(e);if(r&&n){var o=e*t;s==="contain"&&o>i||s==="cover"&&o<i?e=i/t:i=e*t}else r?e=i/t:n&&(i=e*t);return{width:i,height:e}}function as(a){var t=a.width,e=a.height,i=a.degree;if(i=Math.abs(i)%180,i===90)return{width:e,height:t};var s=i%90*Math.PI/180,r=Math.sin(s),n=Math.cos(s),o=t*n+e*r,c=t*r+e*n;return i>90?{width:c,height:o}:{width:o,height:c}}function rs(a,t,e,i){var s=t.aspectRatio,r=t.naturalWidth,n=t.naturalHeight,o=t.rotate,c=o===void 0?0:o,l=t.scaleX,h=l===void 0?1:l,u=t.scaleY,d=u===void 0?1:u,v=e.aspectRatio,m=e.naturalWidth,M=e.naturalHeight,b=i.fillColor,_=b===void 0?"transparent":b,y=i.imageSmoothingEnabled,D=y===void 0?!0:y,L=i.imageSmoothingQuality,A=L===void 0?"low":L,f=i.maxWidth,C=f===void 0?1/0:f,R=i.maxHeight,p=R===void 0?1/0:R,g=i.minWidth,w=g===void 0?0:g,E=i.minHeight,O=E===void 0?0:E,k=document.createElement("canvas"),$=k.getContext("2d"),J=st({aspectRatio:v,width:C,height:p}),ut=st({aspectRatio:v,width:w,height:O},"cover"),yt=Math.min(J.width,Math.max(ut.width,m)),dt=Math.min(J.height,Math.max(ut.height,M)),fe=st({aspectRatio:s,width:C,height:p}),pe=st({aspectRatio:s,width:w,height:O},"cover"),ge=Math.min(fe.width,Math.max(pe.width,r)),me=Math.min(fe.height,Math.max(pe.height,n)),Ei=[-ge/2,-me/2,ge,me];return k.width=vt(yt),k.height=vt(dt),$.fillStyle=_,$.fillRect(0,0,yt,dt),$.save(),$.translate(yt/2,dt/2),$.rotate(c*Math.PI/180),$.scale(h,d),$.imageSmoothingEnabled=D,$.imageSmoothingQuality=A,$.drawImage.apply($,[a].concat(li(Ei.map(function(Ci){return Math.floor(vt(Ci))})))),$.restore(),k}var Mi=String.fromCharCode;function ss(a,t,e){var i="";e+=t;for(var s=t;s<e;s+=1)i+=Mi(a.getUint8(s));return i}var ns=/^data:.*,/;function os(a){var t=a.replace(ns,""),e=atob(t),i=new ArrayBuffer(e.length),s=new Uint8Array(i);return W(s,function(r,n){s[n]=e.charCodeAt(n)}),i}function cs(a,t){for(var e=[],i=8192,s=new Uint8Array(a);s.length>0;)e.push(Mi.apply(null,bi(s.subarray(0,i)))),s=s.subarray(i);return"data:".concat(t,";base64,").concat(btoa(e.join("")))}function hs(a){var t=new DataView(a),e;try{var i,s,r;if(t.getUint8(0)===255&&t.getUint8(1)===216)for(var n=t.byteLength,o=2;o+1<n;){if(t.getUint8(o)===255&&t.getUint8(o+1)===225){s=o;break}o+=1}if(s){var c=s+4,l=s+10;if(ss(t,c,4)==="Exif"){var h=t.getUint16(l);if(i=h===18761,(i||h===19789)&&t.getUint16(l+2,i)===42){var u=t.getUint32(l+4,i);u>=8&&(r=l+u)}}}if(r){var d=t.getUint16(r,i),v,m;for(m=0;m<d;m+=1)if(v=r+m*12+2,t.getUint16(v,i)===274){v+=8,e=t.getUint16(v,i),t.setUint16(v,1,i);break}}}catch(M){e=1}return e}function ls(a){var t=0,e=1,i=1;switch(a){case 2:e=-1;break;case 3:t=-180;break;case 4:i=-1;break;case 5:t=90,i=-1;break;case 6:t=90;break;case 7:t=90,e=-1;break;case 8:t=-90;break}return{rotate:t,scaleX:e,scaleY:i}}var us={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var t=this.element,e=this.options,i=this.container,s=this.cropper,r=Number(e.minContainerWidth),n=Number(e.minContainerHeight);j(s,G),K(t,G);var o={width:Math.max(i.offsetWidth,r>=0?r:mi),height:Math.max(i.offsetHeight,n>=0?n:vi)};this.containerData=o,rt(s,{width:o.width,height:o.height}),j(t,G),K(s,G)},initCanvas:function(){var t=this.containerData,e=this.imageData,i=this.options.viewMode,s=Math.abs(e.rotate)%180===90,r=s?e.naturalHeight:e.naturalWidth,n=s?e.naturalWidth:e.naturalHeight,o=r/n,c=t.width,l=t.height;t.height*o>t.width?i===3?c=t.height*o:l=t.width/o:i===3?l=t.width/o:c=t.height*o;var h={aspectRatio:o,naturalWidth:r,naturalHeight:n,width:c,height:l};this.canvasData=h,this.limited=i===1||i===2,this.limitCanvas(!0,!0),h.width=Math.min(Math.max(h.width,h.minWidth),h.maxWidth),h.height=Math.min(Math.max(h.height,h.minHeight),h.maxHeight),h.left=(t.width-h.width)/2,h.top=(t.height-h.height)/2,h.oldLeft=h.left,h.oldTop=h.top,this.initialCanvasData=N({},h)},limitCanvas:function(t,e){var i=this.options,s=this.containerData,r=this.canvasData,n=this.cropBoxData,o=i.viewMode,c=r.aspectRatio,l=this.cropped&&n;if(t){var h=Number(i.minCanvasWidth)||0,u=Number(i.minCanvasHeight)||0;o>1?(h=Math.max(h,s.width),u=Math.max(u,s.height),o===3&&(u*c>h?h=u*c:u=h/c)):o>0&&(h?h=Math.max(h,l?n.width:0):u?u=Math.max(u,l?n.height:0):l&&(h=n.width,u=n.height,u*c>h?h=u*c:u=h/c));var d=st({aspectRatio:c,width:h,height:u});h=d.width,u=d.height,r.minWidth=h,r.minHeight=u,r.maxWidth=1/0,r.maxHeight=1/0}if(e)if(o>(l?0:1)){var v=s.width-r.width,m=s.height-r.height;r.minLeft=Math.min(0,v),r.minTop=Math.min(0,m),r.maxLeft=Math.max(0,v),r.maxTop=Math.max(0,m),l&&this.limited&&(r.minLeft=Math.min(n.left,n.left+(n.width-r.width)),r.minTop=Math.min(n.top,n.top+(n.height-r.height)),r.maxLeft=n.left,r.maxTop=n.top,o===2&&(r.width>=s.width&&(r.minLeft=Math.min(0,v),r.maxLeft=Math.max(0,v)),r.height>=s.height&&(r.minTop=Math.min(0,m),r.maxTop=Math.max(0,m))))}else r.minLeft=-r.width,r.minTop=-r.height,r.maxLeft=s.width,r.maxTop=s.height},renderCanvas:function(t,e){var i=this.canvasData,s=this.imageData;if(e){var r=as({width:s.naturalWidth*Math.abs(s.scaleX||1),height:s.naturalHeight*Math.abs(s.scaleY||1),degree:s.rotate||0}),n=r.width,o=r.height,c=i.width*(n/i.naturalWidth),l=i.height*(o/i.naturalHeight);i.left-=(c-i.width)/2,i.top-=(l-i.height)/2,i.width=c,i.height=l,i.aspectRatio=n/o,i.naturalWidth=n,i.naturalHeight=o,this.limitCanvas(!0,!1)}(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),this.limitCanvas(!1,!0),i.left=Math.min(Math.max(i.left,i.minLeft),i.maxLeft),i.top=Math.min(Math.max(i.top,i.minTop),i.maxTop),i.oldLeft=i.left,i.oldTop=i.top,rt(this.canvas,N({width:i.width,height:i.height},Tt({translateX:i.left,translateY:i.top}))),this.renderImage(t),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(t){var e=this.canvasData,i=this.imageData,s=i.naturalWidth*(e.width/e.naturalWidth),r=i.naturalHeight*(e.height/e.naturalHeight);N(i,{width:s,height:r,left:(e.width-s)/2,top:(e.height-r)/2}),rt(this.image,N({width:i.width,height:i.height},Tt(N({translateX:i.left,translateY:i.top},i)))),t&&this.output()},initCropBox:function(){var t=this.options,e=this.canvasData,i=t.aspectRatio||t.initialAspectRatio,s=Number(t.autoCropArea)||.8,r={width:e.width,height:e.height};i&&(e.height*i>e.width?r.height=r.width/i:r.width=r.height*i),this.cropBoxData=r,this.limitCropBox(!0,!0),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),r.width=Math.max(r.minWidth,r.width*s),r.height=Math.max(r.minHeight,r.height*s),r.left=e.left+(e.width-r.width)/2,r.top=e.top+(e.height-r.height)/2,r.oldLeft=r.left,r.oldTop=r.top,this.initialCropBoxData=N({},r)},limitCropBox:function(t,e){var i=this.options,s=this.containerData,r=this.canvasData,n=this.cropBoxData,o=this.limited,c=i.aspectRatio;if(t){var l=Number(i.minCropBoxWidth)||0,h=Number(i.minCropBoxHeight)||0,u=o?Math.min(s.width,r.width,r.width+r.left,s.width-r.left):s.width,d=o?Math.min(s.height,r.height,r.height+r.top,s.height-r.top):s.height;l=Math.min(l,s.width),h=Math.min(h,s.height),c&&(l&&h?h*c>l?h=l/c:l=h*c:l?h=l/c:h&&(l=h*c),d*c>u?d=u/c:u=d*c),n.minWidth=Math.min(l,u),n.minHeight=Math.min(h,d),n.maxWidth=u,n.maxHeight=d}e&&(o?(n.minLeft=Math.max(0,r.left),n.minTop=Math.max(0,r.top),n.maxLeft=Math.min(s.width,r.left+r.width)-n.width,n.maxTop=Math.min(s.height,r.top+r.height)-n.height):(n.minLeft=0,n.minTop=0,n.maxLeft=s.width-n.width,n.maxTop=s.height-n.height))},renderCropBox:function(){var t=this.options,e=this.containerData,i=this.cropBoxData;(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),this.limitCropBox(!1,!0),i.left=Math.min(Math.max(i.left,i.minLeft),i.maxLeft),i.top=Math.min(Math.max(i.top,i.minTop),i.maxTop),i.oldLeft=i.left,i.oldTop=i.top,t.movable&&t.cropBoxMovable&&Rt(this.face,At,i.width>=e.width&&i.height>=e.height?di:le),rt(this.cropBox,N({width:i.width,height:i.height},Tt({translateX:i.left,translateY:i.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),bt(this.element,ee,this.getData())}},ds={initPreview:function(){var t=this.element,e=this.crossOrigin,i=this.options.preview,s=e?this.crossOriginUrl:this.url,r=t.alt||"The image to preview",n=document.createElement("img");if(e&&(n.crossOrigin=e),n.src=s,n.alt=r,this.viewBox.appendChild(n),this.viewBoxImage=n,!!i){var o=i;typeof i=="string"?o=t.ownerDocument.querySelectorAll(i):i.querySelector&&(o=[i]),this.previews=o,W(o,function(c){var l=document.createElement("img");Rt(c,Nt,{width:c.offsetWidth,height:c.offsetHeight,html:c.innerHTML}),e&&(l.crossOrigin=e),l.src=s,l.alt=r,l.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',c.innerHTML="",c.appendChild(l)})}},resetPreview:function(){W(this.previews,function(t){var e=ne(t,Nt);rt(t,{width:e.width,height:e.height}),t.innerHTML=e.html,Jr(t,Nt)})},preview:function(){var t=this.imageData,e=this.canvasData,i=this.cropBoxData,s=i.width,r=i.height,n=t.width,o=t.height,c=i.left-e.left-t.left,l=i.top-e.top-t.top;!this.cropped||this.disabled||(rt(this.viewBoxImage,N({width:n,height:o},Tt(N({translateX:-c,translateY:-l},t)))),W(this.previews,function(h){var u=ne(h,Nt),d=u.width,v=u.height,m=d,M=v,b=1;s&&(b=d/s,M=r*b),r&&M>v&&(b=v/r,m=s*b,M=v),rt(h,{width:m,height:M}),rt(h.getElementsByTagName("img")[0],N({width:n*b,height:o*b},Tt(N({translateX:-c*b,translateY:-l*b},t))))}))}},fs={bind:function(){var t=this.element,e=this.options,i=this.cropper;V(e.cropstart)&&q(t,re,e.cropstart),V(e.cropmove)&&q(t,ae,e.cropmove),V(e.cropend)&&q(t,ie,e.cropend),V(e.crop)&&q(t,ee,e.crop),V(e.zoom)&&q(t,se,e.zoom),q(i,Ne,this.onCropStart=this.cropStart.bind(this)),e.zoomable&&e.zoomOnWheel&&q(i,We,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),e.toggleDragModeOnDblclick&&q(i,Ie,this.onDblclick=this.dblclick.bind(this)),q(t.ownerDocument,Pe,this.onCropMove=this.cropMove.bind(this)),q(t.ownerDocument,Be,this.onCropEnd=this.cropEnd.bind(this)),e.responsive&&q(window,ze,this.onResize=this.resize.bind(this))},unbind:function(){var t=this.element,e=this.options,i=this.cropper;V(e.cropstart)&&Z(t,re,e.cropstart),V(e.cropmove)&&Z(t,ae,e.cropmove),V(e.cropend)&&Z(t,ie,e.cropend),V(e.crop)&&Z(t,ee,e.crop),V(e.zoom)&&Z(t,se,e.zoom),Z(i,Ne,this.onCropStart),e.zoomable&&e.zoomOnWheel&&Z(i,We,this.onWheel,{passive:!1,capture:!0}),e.toggleDragModeOnDblclick&&Z(i,Ie,this.onDblclick),Z(t.ownerDocument,Pe,this.onCropMove),Z(t.ownerDocument,Be,this.onCropEnd),e.responsive&&Z(window,ze,this.onResize)}},ps={resize:function(){if(!this.disabled){var t=this.options,e=this.container,i=this.containerData,s=e.offsetWidth/i.width,r=e.offsetHeight/i.height,n=Math.abs(s-1)>Math.abs(r-1)?s:r;if(n!==1){var o,c;t.restore&&(o=this.getCanvasData(),c=this.getCropBoxData()),this.render(),t.restore&&(this.setCanvasData(W(o,function(l,h){o[h]=l*n})),this.setCropBoxData(W(c,function(l,h){c[h]=l*n})))}}},dblclick:function(){this.disabled||this.options.dragMode===gi||this.setDragMode(Kr(this.dragBox,Jt)?pi:ue)},wheel:function(t){var e=this,i=Number(this.options.wheelZoomRatio)||.1,s=1;this.disabled||(t.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){e.wheeling=!1},50),t.deltaY?s=t.deltaY>0?1:-1:t.wheelDelta?s=-t.wheelDelta/120:t.detail&&(s=t.detail>0?1:-1),this.zoom(-s*i,t)))},cropStart:function(t){var e=t.buttons,i=t.button;if(!(this.disabled||(t.type==="mousedown"||t.type==="pointerdown"&&t.pointerType==="mouse")&&(T(e)&&e!==1||T(i)&&i!==0||t.ctrlKey))){var s=this.options,r=this.pointers,n;t.changedTouches?W(t.changedTouches,function(o){r[o.identifier]=Pt(o)}):r[t.pointerId||0]=Pt(t),Object.keys(r).length>1&&s.zoomable&&s.zoomOnTouch?n=fi:n=ne(t.target,At),jr.test(n)&&bt(this.element,re,{originalEvent:t,action:n})!==!1&&(t.preventDefault(),this.action=n,this.cropping=!1,n===ui&&(this.cropping=!0,j(this.dragBox,$t)))}},cropMove:function(t){var e=this.action;if(!(this.disabled||!e)){var i=this.pointers;t.preventDefault(),bt(this.element,ae,{originalEvent:t,action:e})!==!1&&(t.changedTouches?W(t.changedTouches,function(s){N(i[s.identifier]||{},Pt(s,!0))}):N(i[t.pointerId||0]||{},Pt(t,!0)),this.change(t))}},cropEnd:function(t){if(!this.disabled){var e=this.action,i=this.pointers;t.changedTouches?W(t.changedTouches,function(s){delete i[s.identifier]}):delete i[t.pointerId||0],e&&(t.preventDefault(),Object.keys(i).length||(this.action=""),this.cropping&&(this.cropping=!1,mt(this.dragBox,$t,this.cropped&&this.options.modal)),bt(this.element,ie,{originalEvent:t,action:e}))}}},gs={change:function(t){var e=this.options,i=this.canvasData,s=this.containerData,r=this.cropBoxData,n=this.pointers,o=this.action,c=e.aspectRatio,l=r.left,h=r.top,u=r.width,d=r.height,v=l+u,m=h+d,M=0,b=0,_=s.width,y=s.height,D=!0,L;!c&&t.shiftKey&&(c=u&&d?u/d:1),this.limited&&(M=r.minLeft,b=r.minTop,_=M+Math.min(s.width,i.width,i.left+i.width),y=b+Math.min(s.height,i.height,i.top+i.height));var A=n[Object.keys(n)[0]],f={x:A.endX-A.startX,y:A.endY-A.startY},C=function(p){switch(p){case ot:v+f.x>_&&(f.x=_-v);break;case ct:l+f.x<M&&(f.x=M-l);break;case at:h+f.y<b&&(f.y=b-h);break;case pt:m+f.y>y&&(f.y=y-m);break}};switch(o){case le:l+=f.x,h+=f.y;break;case ot:if(f.x>=0&&(v>=_||c&&(h<=b||m>=y))){D=!1;break}C(ot),u+=f.x,u<0&&(o=ct,u=-u,l-=u),c&&(d=u/c,h+=(r.height-d)/2);break;case at:if(f.y<=0&&(h<=b||c&&(l<=M||v>=_))){D=!1;break}C(at),d-=f.y,h+=f.y,d<0&&(o=pt,d=-d,h-=d),c&&(u=d*c,l+=(r.width-u)/2);break;case ct:if(f.x<=0&&(l<=M||c&&(h<=b||m>=y))){D=!1;break}C(ct),u-=f.x,l+=f.x,u<0&&(o=ot,u=-u,l-=u),c&&(d=u/c,h+=(r.height-d)/2);break;case pt:if(f.y>=0&&(m>=y||c&&(l<=M||v>=_))){D=!1;break}C(pt),d+=f.y,d<0&&(o=at,d=-d,h-=d),c&&(u=d*c,l+=(r.width-u)/2);break;case xt:if(c){if(f.y<=0&&(h<=b||v>=_)){D=!1;break}C(at),d-=f.y,h+=f.y,u=d*c}else C(at),C(ot),f.x>=0?v<_?u+=f.x:f.y<=0&&h<=b&&(D=!1):u+=f.x,f.y<=0?h>b&&(d-=f.y,h+=f.y):(d-=f.y,h+=f.y);u<0&&d<0?(o=Et,d=-d,u=-u,h-=d,l-=u):u<0?(o=Mt,u=-u,l-=u):d<0&&(o=Dt,d=-d,h-=d);break;case Mt:if(c){if(f.y<=0&&(h<=b||l<=M)){D=!1;break}C(at),d-=f.y,h+=f.y,u=d*c,l+=r.width-u}else C(at),C(ct),f.x<=0?l>M?(u-=f.x,l+=f.x):f.y<=0&&h<=b&&(D=!1):(u-=f.x,l+=f.x),f.y<=0?h>b&&(d-=f.y,h+=f.y):(d-=f.y,h+=f.y);u<0&&d<0?(o=Dt,d=-d,u=-u,h-=d,l-=u):u<0?(o=xt,u=-u,l-=u):d<0&&(o=Et,d=-d,h-=d);break;case Et:if(c){if(f.x<=0&&(l<=M||m>=y)){D=!1;break}C(ct),u-=f.x,l+=f.x,d=u/c}else C(pt),C(ct),f.x<=0?l>M?(u-=f.x,l+=f.x):f.y>=0&&m>=y&&(D=!1):(u-=f.x,l+=f.x),f.y>=0?m<y&&(d+=f.y):d+=f.y;u<0&&d<0?(o=xt,d=-d,u=-u,h-=d,l-=u):u<0?(o=Dt,u=-u,l-=u):d<0&&(o=Mt,d=-d,h-=d);break;case Dt:if(c){if(f.x>=0&&(v>=_||m>=y)){D=!1;break}C(ot),u+=f.x,d=u/c}else C(pt),C(ot),f.x>=0?v<_?u+=f.x:f.y>=0&&m>=y&&(D=!1):u+=f.x,f.y>=0?m<y&&(d+=f.y):d+=f.y;u<0&&d<0?(o=Mt,d=-d,u=-u,h-=d,l-=u):u<0?(o=Et,u=-u,l-=u):d<0&&(o=xt,d=-d,h-=d);break;case di:this.move(f.x,f.y),D=!1;break;case fi:this.zoom(es(n),t),D=!1;break;case ui:if(!f.x||!f.y){D=!1;break}L=xi(this.cropper),l=A.startX-L.left,h=A.startY-L.top,u=r.minWidth,d=r.minHeight,f.x>0?o=f.y>0?Dt:xt:f.x<0&&(l-=u,o=f.y>0?Et:Mt),f.y<0&&(h-=d),this.cropped||(K(this.cropBox,G),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}D&&(r.width=u,r.height=d,r.left=l,r.top=h,this.action=o,this.renderCropBox()),W(n,function(R){R.startX=R.endX,R.startY=R.endY})}},ms={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&j(this.dragBox,$t),K(this.cropBox,G),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=N({},this.initialImageData),this.canvasData=N({},this.initialCanvasData),this.cropBoxData=N({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(N(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),K(this.dragBox,$t),j(this.cropBox,G)),this},replace:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&t&&(this.isImg&&(this.element.src=t),e?(this.url=t,this.image.src=t,this.ready&&(this.viewBoxImage.src=t,W(this.previews,function(i){i.getElementsByTagName("img")[0].src=t}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(t))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,K(this.cropper,Oe)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,j(this.cropper,Oe)),this},destroy:function(){var t=this.element;return t[I]?(t[I]=void 0,this.isImg&&this.replaced&&(t.src=this.originalUrl),this.uncreate(),this):this},move:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,i=this.canvasData,s=i.left,r=i.top;return this.moveTo(Xt(t)?t:s+Number(t),Xt(e)?e:r+Number(e))},moveTo:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,i=this.canvasData,s=!1;return t=Number(t),e=Number(e),this.ready&&!this.disabled&&this.options.movable&&(T(t)&&(i.left=t,s=!0),T(e)&&(i.top=e,s=!0),s&&this.renderCanvas(!0)),this},zoom:function(t,e){var i=this.canvasData;return t=Number(t),t<0?t=1/(1-t):t=1+t,this.zoomTo(i.width*t/i.naturalWidth,null,e)},zoomTo:function(t,e,i){var s=this.options,r=this.canvasData,n=r.width,o=r.height,c=r.naturalWidth,l=r.naturalHeight;if(t=Number(t),t>=0&&this.ready&&!this.disabled&&s.zoomable){var h=c*t,u=l*t;if(bt(this.element,se,{ratio:t,oldRatio:n/c,originalEvent:i})===!1)return this;if(i){var d=this.pointers,v=xi(this.cropper),m=d&&Object.keys(d).length?is(d):{pageX:i.pageX,pageY:i.pageY};r.left-=(h-n)*((m.pageX-v.left-r.left)/n),r.top-=(u-o)*((m.pageY-v.top-r.top)/o)}else gt(e)&&T(e.x)&&T(e.y)?(r.left-=(h-n)*((e.x-r.left)/n),r.top-=(u-o)*((e.y-r.top)/o)):(r.left-=(h-n)/2,r.top-=(u-o)/2);r.width=h,r.height=u,this.renderCanvas(!0)}return this},rotate:function(t){return this.rotateTo((this.imageData.rotate||0)+Number(t))},rotateTo:function(t){return t=Number(t),T(t)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=t%360,this.renderCanvas(!0,!0)),this},scaleX:function(t){var e=this.imageData.scaleY;return this.scale(t,T(e)?e:1)},scaleY:function(t){var e=this.imageData.scaleX;return this.scale(T(e)?e:1,t)},scale:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,i=this.imageData,s=!1;return t=Number(t),e=Number(e),this.ready&&!this.disabled&&this.options.scalable&&(T(t)&&(i.scaleX=t,s=!0),T(e)&&(i.scaleY=e,s=!0),s&&this.renderCanvas(!0,!0)),this},getData:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.options,i=this.imageData,s=this.canvasData,r=this.cropBoxData,n;if(this.ready&&this.cropped){n={x:r.left-s.left,y:r.top-s.top,width:r.width,height:r.height};var o=i.width/i.naturalWidth;if(W(n,function(h,u){n[u]=h/o}),t){var c=Math.round(n.y+n.height),l=Math.round(n.x+n.width);n.x=Math.round(n.x),n.y=Math.round(n.y),n.width=l-n.x,n.height=c-n.y}}else n={x:0,y:0,width:0,height:0};return e.rotatable&&(n.rotate=i.rotate||0),e.scalable&&(n.scaleX=i.scaleX||1,n.scaleY=i.scaleY||1),n},setData:function(t){var e=this.options,i=this.imageData,s=this.canvasData,r={};if(this.ready&&!this.disabled&&gt(t)){var n=!1;e.rotatable&&T(t.rotate)&&t.rotate!==i.rotate&&(i.rotate=t.rotate,n=!0),e.scalable&&(T(t.scaleX)&&t.scaleX!==i.scaleX&&(i.scaleX=t.scaleX,n=!0),T(t.scaleY)&&t.scaleY!==i.scaleY&&(i.scaleY=t.scaleY,n=!0)),n&&this.renderCanvas(!0,!0);var o=i.width/i.naturalWidth;T(t.x)&&(r.left=t.x*o+s.left),T(t.y)&&(r.top=t.y*o+s.top),T(t.width)&&(r.width=t.width*o),T(t.height)&&(r.height=t.height*o),this.setCropBoxData(r)}return this},getContainerData:function(){return this.ready?N({},this.containerData):{}},getImageData:function(){return this.sized?N({},this.imageData):{}},getCanvasData:function(){var t=this.canvasData,e={};return this.ready&&W(["left","top","width","height","naturalWidth","naturalHeight"],function(i){e[i]=t[i]}),e},setCanvasData:function(t){var e=this.canvasData,i=e.aspectRatio;return this.ready&&!this.disabled&&gt(t)&&(T(t.left)&&(e.left=t.left),T(t.top)&&(e.top=t.top),T(t.width)?(e.width=t.width,e.height=t.width/i):T(t.height)&&(e.height=t.height,e.width=t.height*i),this.renderCanvas(!0)),this},getCropBoxData:function(){var t=this.cropBoxData,e;return this.ready&&this.cropped&&(e={left:t.left,top:t.top,width:t.width,height:t.height}),e||{}},setCropBoxData:function(t){var e=this.cropBoxData,i=this.options.aspectRatio,s,r;return this.ready&&this.cropped&&!this.disabled&&gt(t)&&(T(t.left)&&(e.left=t.left),T(t.top)&&(e.top=t.top),T(t.width)&&t.width!==e.width&&(s=!0,e.width=t.width),T(t.height)&&t.height!==e.height&&(r=!0,e.height=t.height),i&&(s?e.height=e.width/i:r&&(e.width=e.height*i)),this.renderCropBox()),this},getCroppedCanvas:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var e=this.canvasData,i=rs(this.image,this.imageData,e,t);if(!this.cropped)return i;var s=this.getData(t.rounded),r=s.x,n=s.y,o=s.width,c=s.height,l=i.width/Math.floor(e.naturalWidth);l!==1&&(r*=l,n*=l,o*=l,c*=l);var h=o/c,u=st({aspectRatio:h,width:t.maxWidth||1/0,height:t.maxHeight||1/0}),d=st({aspectRatio:h,width:t.minWidth||0,height:t.minHeight||0},"cover"),v=st({aspectRatio:h,width:t.width||(l!==1?i.width:o),height:t.height||(l!==1?i.height:c)}),m=v.width,M=v.height;m=Math.min(u.width,Math.max(d.width,m)),M=Math.min(u.height,Math.max(d.height,M));var b=document.createElement("canvas"),_=b.getContext("2d");b.width=vt(m),b.height=vt(M),_.fillStyle=t.fillColor||"transparent",_.fillRect(0,0,m,M);var y=t.imageSmoothingEnabled,D=y===void 0?!0:y,L=t.imageSmoothingQuality;_.imageSmoothingEnabled=D,L&&(_.imageSmoothingQuality=L);var A=i.width,f=i.height,C=r,R=n,p,g,w,E,O,k;C<=-o||C>A?(C=0,p=0,w=0,O=0):C<=0?(w=-C,C=0,p=Math.min(A,o+C),O=p):C<=A&&(w=0,p=Math.min(o,A-C),O=p),p<=0||R<=-c||R>f?(R=0,g=0,E=0,k=0):R<=0?(E=-R,R=0,g=Math.min(f,c+R),k=g):R<=f&&(E=0,g=Math.min(c,f-R),k=g);var $=[C,R,p,g];if(O>0&&k>0){var J=m/o;$.push(w*J,E*J,O*J,k*J)}return _.drawImage.apply(_,[i].concat(li($.map(function(ut){return Math.floor(vt(ut))})))),b},setAspectRatio:function(t){var e=this.options;return!this.disabled&&!Xt(t)&&(e.aspectRatio=Math.max(0,t)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(t){var e=this.options,i=this.dragBox,s=this.face;if(this.ready&&!this.disabled){var r=t===ue,n=e.movable&&t===pi;t=r||n?t:gi,e.dragMode=t,Rt(i,At,t),mt(i,Jt,r),mt(i,te,n),e.cropBoxMovable||(Rt(s,At,t),mt(s,Jt,r),mt(s,te,n))}return this}},vs=Q.Cropper,Di=function(){function a(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Rr(this,a),!t||!Ur.test(t.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=t,this.options=N({},Ye,gt(e)&&e),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return kr(a,[{key:"init",value:function(){var e=this.element,i=e.tagName.toLowerCase(),s;if(!e[I]){if(e[I]=this,i==="img"){if(this.isImg=!0,s=e.getAttribute("src")||"",this.originalUrl=s,!s)return;s=e.src}else i==="canvas"&&window.HTMLCanvasElement&&(s=e.toDataURL());this.load(s)}}},{key:"load",value:function(e){var i=this;if(e){this.url=e,this.imageData={};var s=this.element,r=this.options;if(!r.rotatable&&!r.scalable&&(r.checkOrientation=!1),!r.checkOrientation||!window.ArrayBuffer){this.clone();return}if(Yr.test(e)){Hr.test(e)?this.read(os(e)):this.clone();return}var n=new XMLHttpRequest,o=this.clone.bind(this);this.reloading=!0,this.xhr=n,n.onabort=o,n.onerror=o,n.ontimeout=o,n.onprogress=function(){n.getResponseHeader("content-type")!==je&&n.abort()},n.onload=function(){i.read(n.response)},n.onloadend=function(){i.reloading=!1,i.xhr=null},r.checkCrossOrigin&&Ue(e)&&s.crossOrigin&&(e=Xe(e)),n.open("GET",e,!0),n.responseType="arraybuffer",n.withCredentials=s.crossOrigin==="use-credentials",n.send()}}},{key:"read",value:function(e){var i=this.options,s=this.imageData,r=hs(e),n=0,o=1,c=1;if(r>1){this.url=cs(e,je);var l=ls(r);n=l.rotate,o=l.scaleX,c=l.scaleY}i.rotatable&&(s.rotate=n),i.scalable&&(s.scaleX=o,s.scaleY=c),this.clone()}},{key:"clone",value:function(){var e=this.element,i=this.url,s=e.crossOrigin,r=i;this.options.checkCrossOrigin&&Ue(i)&&(s||(s="anonymous"),r=Xe(i)),this.crossOrigin=s,this.crossOriginUrl=r;var n=document.createElement("img");s&&(n.crossOrigin=s),n.src=r||i,n.alt=e.alt||"The image to crop",this.image=n,n.onload=this.start.bind(this),n.onerror=this.stop.bind(this),j(n,Le),e.parentNode.insertBefore(n,e.nextSibling)}},{key:"start",value:function(){var e=this,i=this.image;i.onload=null,i.onerror=null,this.sizing=!0;var s=Q.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(Q.navigator.userAgent),r=function(l,h){N(e.imageData,{naturalWidth:l,naturalHeight:h,aspectRatio:l/h}),e.initialImageData=N({},e.imageData),e.sizing=!1,e.sized=!0,e.build()};if(i.naturalWidth&&!s){r(i.naturalWidth,i.naturalHeight);return}var n=document.createElement("img"),o=document.body||document.documentElement;this.sizingImage=n,n.onload=function(){r(n.width,n.height),s||o.removeChild(n)},n.src=i.src,s||(n.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",o.appendChild(n))}},{key:"stop",value:function(){var e=this.image;e.onload=null,e.onerror=null,e.parentNode.removeChild(e),this.image=null}},{key:"build",value:function(){if(!(!this.sized||this.ready)){var e=this.element,i=this.options,s=this.image,r=e.parentNode,n=document.createElement("div");n.innerHTML=Xr;var o=n.querySelector(".".concat(I,"-container")),c=o.querySelector(".".concat(I,"-canvas")),l=o.querySelector(".".concat(I,"-drag-box")),h=o.querySelector(".".concat(I,"-crop-box")),u=h.querySelector(".".concat(I,"-face"));this.container=r,this.cropper=o,this.canvas=c,this.dragBox=l,this.cropBox=h,this.viewBox=o.querySelector(".".concat(I,"-view-box")),this.face=u,c.appendChild(s),j(e,G),r.insertBefore(o,e.nextSibling),K(s,Le),this.initPreview(),this.bind(),i.initialAspectRatio=Math.max(0,i.initialAspectRatio)||NaN,i.aspectRatio=Math.max(0,i.aspectRatio)||NaN,i.viewMode=Math.max(0,Math.min(3,Math.round(i.viewMode)))||0,j(h,G),i.guides||j(h.getElementsByClassName("".concat(I,"-dashed")),G),i.center||j(h.getElementsByClassName("".concat(I,"-center")),G),i.background&&j(o,"".concat(I,"-bg")),i.highlight||j(u,Br),i.cropBoxMovable&&(j(u,te),Rt(u,At,le)),i.cropBoxResizable||(j(h.getElementsByClassName("".concat(I,"-line")),G),j(h.getElementsByClassName("".concat(I,"-point")),G)),this.render(),this.ready=!0,this.setDragMode(i.dragMode),i.autoCrop&&this.crop(),this.setData(i.data),V(i.ready)&&q(e,$e,i.ready,{once:!0}),bt(e,$e)}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var e=this.cropper.parentNode;e&&e.removeChild(this.cropper),K(this.element,G)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=vs,a}},{key:"setDefaults",value:function(e){N(Ye,gt(e)&&e)}}])}();N(Di.prototype,us,ds,fs,ps,gs,ms);const bs={xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 1024 1024"},ws=z("path",{fill:"currentColor",d:"M168 504.2c1-43.7 10-86.1 26.9-126 17.3-41 42.1-77.7 73.7-109.4S337 212.3 378 195c42.4-17.9 87.4-27 133.9-27s91.5 9.1 133.8 27A341.5 341.5 0 0 1 755 268.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 0 0 3 14.1l175.7 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c0-6.7-7.7-10.5-12.9-6.3l-56.4 44.1C765.8 155.1 646.2 92 511.8 92 282.7 92 96.3 275.6 92 503.8a8 8 0 0 0 8 8.2h60c4.4 0 7.9-3.5 8-7.8m756 7.8h-60c-4.4 0-7.9 3.5-8 7.8-1 43.7-10 86.1-26.9 126-17.3 41-42.1 77.8-73.7 109.4A342.45 342.45 0 0 1 512.1 856a342.24 342.24 0 0 1-243.2-100.8c-9.9-9.9-19.2-20.4-27.8-31.4l60.2-47a8 8 0 0 0-3-14.1l-175.7-43c-5-1.2-9.9 2.6-9.9 7.7l-.7 181c0 6.7 7.7 10.5 12.9 6.3l56.4-44.1C258.2 868.9 377.8 932 512.2 932c229.2 0 415.5-183.7 419.8-411.8a8 8 0 0 0-8-8.2"},null,-1),ys=[ws];function xs(a,t){return H(),U("svg",bs,[...ys])}const Ms={render:xs},Ds={xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 1024 1024"},Es=z("path",{fill:"currentColor",d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 0 0-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13M878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8"},null,-1),Cs=[Es];function _s(a,t){return H(),U("svg",Ds,[...Cs])}const Ts={render:_s},Ss={xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",class:"icon",viewBox:"0 0 1024 1024"},As=z("path",{d:"m296.992 216.992-272 272L3.008 512l21.984 23.008 272 272 46.016-46.016L126.016 544h772L680.992 760.992l46.016 46.016 272-272L1020.992 512l-21.984-23.008-272-272-46.048 46.048L898.016 480h-772l216.96-216.992z"},null,-1),Rs=[As];function ks(a,t){return H(),U("svg",Ss,[...Rs])}const Os={render:ks},Ls={xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",class:"icon",viewBox:"0 0 1024 1024"},Is=z("path",{d:"m512 67.008-23.008 21.984-256 256 46.048 46.048L480 190.016v644L279.008 632.96l-46.048 46.08 256 256 23.008 21.984 23.008-21.984 256-256-46.016-46.016L544 834.016v-644l200.992 200.96 46.016-45.984-256-256z"},null,-1),Ns=[Is];function Ps(a,t){return H(),U("svg",Ls,[...Ns])}const Bs={render:Ps},$s={xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 1024 1024"},zs=z("path",{fill:"currentColor",d:"M868 545.5 536.1 163a31.96 31.96 0 0 0-48.3 0L156 545.5a7.97 7.97 0 0 0 6 13.2h81c4.6 0 9-2 12.1-5.5L474 300.9V864c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V300.9l218.9 252.3c3 3.5 7.4 5.5 12.1 5.5h81c6.8 0 10.5-8 6-13.2"},null,-1),Ws=[zs];function js(a,t){return H(),U("svg",$s,[...Ws])}const Ys={render:js},Hs={xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",class:"icon",viewBox:"0 0 1024 1024"},Us=ki('<path d="M956.8 988.8H585.6c-16 0-25.6-9.6-25.6-28.8V576c0-16 9.6-28.8 25.6-28.8h371.2c16 0 25.6 9.6 25.6 28.8v384c0 16-9.6 28.8-25.6 28.8M608 937.6h326.4V598.4H608zm-121.6 44.8C262.4 982.4 144 848 144 595.2c0-19.2 9.6-28.8 25.6-28.8s25.6 12.8 25.6 28.8c0 220.8 96 326.4 288 326.4 16 0 25.6 12.8 25.6 28.8s-6.4 32-22.4 32"></path><path d="M262.4 694.4c-6.4 0-9.6-3.2-16-6.4L160 601.6c-9.6-9.6-9.6-22.4 0-28.8s22.4-9.6 28.8 0l86.4 86.4c9.6 9.6 9.6 22.4 0 28.8-3.2 3.2-6.4 6.4-12.8 6.4"></path><path d="M86.4 694.4c-6.4 0-9.6-3.2-16-6.4-9.6-9.6-9.6-22.4 0-28.8l86.4-86.4c9.6-9.6 22.4-9.6 28.8 0 9.6 9.6 9.6 22.4 0 28.8L99.2 688c-3.2 3.2-6.4 6.4-12.8 6.4m790.4-249.6c-16 0-28.8-12.8-28.8-32 0-224-99.2-336-300.8-336-16 0-28.8-12.8-28.8-32s9.6-32 28.8-32c233.6 0 355.2 137.6 355.2 396.8 0 22.4-9.6 35.2-25.6 35.2"></path><path d="M876.8 448c-6.4 0-9.6-3.2-16-6.4l-86.4-86.4c-9.6-9.6-9.6-22.4 0-28.8s22.4-9.6 28.8 0l86.4 86.4c9.6 9.6 9.6 22.4 0 28.8 0 3.2-6.4 6.4-12.8 6.4"></path><path d="M876.8 448c-6.4 0-9.6-3.2-16-6.4-9.6-9.6-9.6-22.4 0-28.8l86.4-86.4c9.6-9.6 22.4-9.6 28.8 0s9.6 22.4 0 28.8l-86.4 86.4c-3.2 3.2-6.4 6.4-12.8 6.4M288 524.8C156.8 524.8 48 416 48 278.4S156.8 35.2 288 35.2 528 144 528 281.6 419.2 524.8 288 524.8m-3.2-432c-99.2 0-179.2 83.2-179.2 185.6S185.6 464 284.8 464 464 380.8 464 278.4 384 92.8 284.8 92.8"></path>',5),Xs=[Us];function Vs(a,t){return H(),U("svg",Hs,[...Xs])}const Gs={render:Vs},Fs={xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 1024 1024"},qs=z("path",{fill:"currentColor",d:"M862 465.3h-81c-4.6 0-9 2-12.1 5.5L550 723.1V160c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v563.1L255.1 470.8c-3-3.5-7.4-5.5-12.1-5.5h-81c-6.8 0-10.5 8.1-6 13.2L487.9 861a31.96 31.96 0 0 0 48.3 0L868 478.5c4.5-5.2.8-13.2-6-13.2"},null,-1),Zs=[qs];function Ks(a,t){return H(),U("svg",Fs,[...Zs])}const Qs={render:Ks},Js={xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 1024 1024"},tn=z("path",{fill:"currentColor",d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 0 0 0 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8"},null,-1),en=[tn];function an(a,t){return H(),U("svg",Js,[...en])}const rn={render:an},sn={xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 1024 1024"},nn=z("path",{fill:"currentColor",d:"M505.7 661a8 8 0 0 0 12.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8"},null,-1),on=[nn];function cn(a,t){return H(),U("svg",sn,[...on])}const hn={render:cn},ln={xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 1024 1024"},un=z("path",{fill:"currentColor",d:"M869 487.8 491.2 159.9c-2.9-2.5-6.6-3.9-10.5-3.9h-88.5c-7.4 0-10.8 9.2-5.2 14l350.2 304H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h585.1L386.9 854c-5.6 4.9-2.2 14 5.2 14h91.5c1.9 0 3.8-.7 5.2-2L869 536.2a32.07 32.07 0 0 0 0-48.4"},null,-1),dn=[un];function fn(a,t){return H(),U("svg",ln,[...dn])}const pn={render:fn},gn={xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 1024 1024"},mn=z("path",{fill:"currentColor",d:"M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32m-44 402H188V494h440z"},null,-1),vn=z("path",{fill:"currentColor",d:"M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8 11 40.7 14 82.7 8.9 124.8-.7 5.4-1.4 10.8-2.4 16.1h74.9c14.8-103.6-11.3-213-81-302.3"},null,-1),bn=[mn,vn];function wn(a,t){return H(),U("svg",gn,[...bn])}const yn={render:wn},xn={xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 1024 1024"},Mn=z("path",{fill:"currentColor",d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8m284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11M696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430"},null,-1),Dn=[Mn];function En(a,t){return H(),U("svg",xn,[...Dn])}const Cn={render:En},_n={xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 1024 1024"},Tn=z("path",{fill:"currentColor",d:"M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2-69.6 89.2-95.7 198.6-81.1 302.4h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8"},null,-1),Sn=z("path",{fill:"currentColor",d:"M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32m-44 402H396V494h440z"},null,-1),An=[Tn,Sn];function Rn(a,t){return H(),U("svg",_n,[...An])}const kn={render:Rn},On={xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 1024 1024"},Ln=z("path",{fill:"currentColor",d:"M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8m284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11M696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430"},null,-1),In=[Ln];function Nn(a,t){return H(),U("svg",On,[...In])}const Pn={render:Nn},Bn={aspectRatio:1,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,autoCrop:!0,background:!0,highlight:!0,center:!0,responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,scalable:!0,modal:!0,guides:!0,movable:!0,rotatable:!0},$n={src:{type:String,required:!0},alt:{type:String},circled:{type:Boolean,default:!1},isClose:{type:Boolean,default:!0},realTimePreview:{type:Boolean,default:!0},height:{type:[String,Number],default:"360px"},crossorigin:{type:String,default:void 0},imageStyle:{type:Object,default:()=>({})},options:{type:Object,default:()=>({})}},zn=Gt({name:"ReCropper",props:$n,setup(a,{attrs:t,emit:e}){const i=P(),s=P(),r=P(),n=P(a.circled),o=P(a.isClose),c=P(a.src),l=P(!1),h=P();let u=1,d=1;const v=Pi(D,80),m=Ct(()=>X({height:a.height,maxWidth:"100%"},a.imageStyle)),M=Ct(()=>[t.class,{"re-circled":n.value}]),b=Ct(()=>["p-[6px]","h-[30px]","w-[30px]","outline-none","rounded-[4px]","cursor-pointer","hover:bg-[rgba(0,0,0,0.06)]"]),_=Ct(()=>({height:`${a.height}`.replace(/px/,"")+"px"}));Ve(y),Oi(()=>{var g;(g=r.value)==null||g.destroy(),l.value=!1,r.value=null,h.value="",u=1,d=1}),Li(i,()=>f("reset"));function y(){return kt(this,null,function*(){const g=Ft(s);g&&(r.value=new Di(g,X(et(X({},Bn),{ready:()=>{l.value=!0,D(),Ii(400).then(()=>e("readied",r.value))},crop(){v()},zoom(){v()},cropmove(){v()}}),a.options)))})}function D(){a.realTimePreview&&L()}function L(){if(!r.value)return;(n.value?A():r.value.getCroppedCanvas()).toBlob(w=>{if(!w)return;const E=new FileReader;E.readAsDataURL(w),E.onloadend=O=>{var k;!((k=O.target)!=null&&k.result)||!w||(h.value=O.target.result,e("cropper",{base64:O.target.result,blob:w,info:X({size:w.size},r.value.getData())}))},E.onerror=()=>{e("error")}})}function A(){const g=r.value.getCroppedCanvas(),w=document.createElement("canvas"),E=w.getContext("2d"),O=g.width,k=g.height;return w.width=O,w.height=k,E.imageSmoothingEnabled=!0,E.drawImage(g,0,0,O,k),E.globalCompositeOperation="destination-in",E.beginPath(),E.arc(O/2,k/2,Math.min(O,k)/2,0,2*Math.PI,!0),E.fill(),w}function f(g,w){var E,O,k,$;g==="scaleX"&&(u=w=u===-1?1:-1),g==="scaleY"&&(d=w=d===-1?1:-1),w&&Ni(w)?(O=(E=r.value)==null?void 0:E[g])==null||O.call(E,...w):($=(k=r.value)==null?void 0:k[g])==null||$.call(k,w)}function C(g){const w=new FileReader;return w.readAsDataURL(g),c.value="",w.onload=E=>{var O;c.value=(O=E.target)==null?void 0:O.result},w.onloadend=()=>{y()},!1}const R=Gt({directives:{tippy:zi,longpress:Wi},setup(){return()=>S("div",{class:"flex flex-wrap w-[60px] justify-between"},[S(ji,{accept:"image/*","show-file-list":!1,"before-upload":C},{default:()=>[Y(S(Ts,{class:b.value},null),[[B("tippy"),{content:"上传",placement:"left-start"}]])]}),Y(S(hn,{class:b.value,onClick:()=>Yi(h.value,"cropping.png")},null),[[B("tippy"),{content:"下载",placement:"right-start"}]]),Y(S(Gs,{class:b.value,onClick:()=>{n.value=!n.value,D()}},null),[[B("tippy"),{content:"圆形、矩形裁剪",placement:"left-start"}]]),Y(S(Ms,{class:b.value,onClick:()=>f("reset")},null),[[B("tippy"),{content:"重置",placement:"right-start"}]]),Y(S(Ys,{class:b.value},null),[[B("tippy"),{content:"上移（可长按）",placement:"left-start"}],[B("longpress"),()=>f("move",[0,-10]),"0:100"]]),Y(S(Qs,{class:b.value},null),[[B("tippy"),{content:"下移（可长按）",placement:"right-start"}],[B("longpress"),()=>f("move",[0,10]),"0:100"]]),Y(S(rn,{class:b.value},null),[[B("tippy"),{content:"左移（可长按）",placement:"left-start"}],[B("longpress"),()=>f("move",[-10,0]),"0:100"]]),Y(S(pn,{class:b.value},null),[[B("tippy"),{content:"右移（可长按）",placement:"right-start"}],[B("longpress"),()=>f("move",[10,0]),"0:100"]]),Y(S(Os,{class:b.value,onClick:()=>f("scaleX",-1)},null),[[B("tippy"),{content:"水平翻转",placement:"left-start"}]]),Y(S(Bs,{class:b.value,onClick:()=>f("scaleY",-1)},null),[[B("tippy"),{content:"垂直翻转",placement:"right-start"}]]),Y(S(yn,{class:b.value,onClick:()=>f("rotate",-45)},null),[[B("tippy"),{content:"逆时针旋转",placement:"left-start"}]]),Y(S(kn,{class:b.value,onClick:()=>f("rotate",45)},null),[[B("tippy"),{content:"顺时针旋转",placement:"right-start"}]]),Y(S(Cn,{class:b.value},null),[[B("tippy"),{content:"放大（可长按）",placement:"left-start"}],[B("longpress"),()=>f("zoom",.1),"0:100"]]),Y(S(Pn,{class:b.value},null),[[B("tippy"),{content:"缩小（可长按）",placement:"right-start"}],[B("longpress"),()=>f("zoom",-.1),"0:100"]])])}});function p(g){g.preventDefault();const{show:w,setProps:E,destroy:O,state:k}=Bi(i,{content:R,arrow:!1,theme:"light",trigger:"manual",interactive:!0,appendTo:"parent",placement:"bottom-end"});if(E({getReferenceClientRect:()=>({width:0,height:0,top:g.clientY,bottom:g.clientY,left:g.clientX,right:g.clientX})}),w(),o.value){if(!k.value.isShown&&!k.value.isVisible)return;$i(i,"click",O)}}return{inSrc:c,props:a,imgElRef:s,tippyElRef:i,getClass:M,getWrapperStyle:_,getImageStyle:m,isReady:l,croppered:L,onContextmenu:p}},render(){const{inSrc:a,isReady:t,getClass:e,getImageStyle:i,onContextmenu:s,getWrapperStyle:r}=this,{alt:n,crossorigin:o}=this.props;return a?S("div",{ref:"tippyElRef",class:e,style:r,onContextmenu:c=>s(c)},[Y(S("img",{ref:"imgElRef",style:i,src:a,alt:n,crossorigin:o},null),[[Ge,t]])]):null}}),Wn=Fe(zn),jn={"element-loading-background":"transparent"},Yn={class:"w-[18vw]"},Hn={class:"mt-1 text-center"},Un={class:"flex flex-wrap justify-center items-center text-center"},Xn={key:1,class:"mt-1"},Vn=Gt({name:"ReCropperPreview",__name:"index",props:{imgSrc:String},emits:["cropper"],setup(a,{expose:t,emit:e}){const i=e,s=P(),r=P(),n=P(),o=P(!1),c=P("");function l({base64:u,blob:d,info:v}){s.value=v,c.value=u,i("cropper",{base64:u,blob:d,info:v})}function h(){r.value.hide()}return t({hidePopover:h}),(u,d)=>{const v=_t("el-image"),m=_t("el-popover"),M=B("loading");return Y((H(),U("div",jn,[S(m,{ref_key:"popoverRef",ref:r,visible:o.value,placement:"right",width:"18vw"},{reference:we(()=>[z("div",Yn,[S(Ft(Wn),{ref_key:"refCropper",ref:n,src:a.imgSrc,circled:"",onCropper:l,onReadied:d[0]||(d[0]=b=>o.value=!0)},null,8,["src"]),Y(z("p",Hn," 温馨提示：右键上方裁剪区可开启功能菜单 ",512),[[Ge,o.value]])])]),default:we(()=>[z("div",Un,[c.value?(H(),Hi(v,{key:0,src:c.value,"preview-src-list":Array.of(c.value),fit:"cover"},null,8,["src","preview-src-list"])):ye("",!0),s.value?(H(),U("div",Xn,[z("p",null," 图像大小："+Ot(parseInt(s.value.width))+" × "+Ot(parseInt(s.value.height))+"像素 ",1),z("p",null," 文件大小："+Ot(Ft(Ui)(s.value.size))+"（"+Ot(s.value.size)+" 字节） ",1)])):ye("",!0)])]),_:1},8,["visible"])])),[[M,!o.value]])}}}),Gn=Fe(Vn);function no(a,t){const{t:e}=Xi(),i=P({}),{switchStyle:s}=ca(),r=P([]),n=P(!0),o=P([]);P({});const c=P(),l=P(),h=Wt({newPwd:""}),u=[{color:"#e74242",text:"非常弱"},{color:"#EFBD47",text:"弱"},{color:"#ffa500",text:"一般"},{color:"#1bbf1b",text:"强"},{color:"#008000",text:"非常强"}],d=P(),v=Wt({list:It.list,fields:It.fields,save:It.save,delete:It.delete}),m=Wt({list:!0,create:it("add"),update:it("edit"),delete:it("delete"),batchDelete:it("delete"),import:it("import"),export:it("export"),download:it("download")}),M=Ct(()=>["!h-[20px]","reset-margin","!text-gray-500","dark:!text-white","dark:hover:!text-primary"]),b=[{label:"勾选列",type:"selection",align:"left",reserveSelection:!0},{label:"编号",prop:"id",width:90},{label:"头像",prop:"avatar",cellRenderer:({row:p})=>S(_t("el-image"),{fit:"cover","preview-teleported":!0,src:p.avatar||Yt,"preview-src-list":Array.of(p.avatar||Yt),class:"w-[24px] h-[24px] rounded-full align-middle"},null),width:90},{label:"姓名",prop:"username",minWidth:130},{label:"昵称",prop:"nickname",minWidth:130},{label:"性别",prop:"sex",minWidth:90,cellRenderer:({row:p,props:g})=>S(_t("el-tag"),{size:g.size,type:p.sex===1?"danger":null,effect:"plain"},{default:()=>[p.sex===1?"女":"男"]})},{label:"部门",prop:"dept.name",minWidth:90},{label:"手机号码",prop:"phone",minWidth:90,formatter:({phone:p})=>Ji(p,{start:3,end:6})},{label:"邮箱",prop:"email",minWidth:120},{label:"状态",prop:"status",minWidth:90,cellRenderer:p=>{var g;return S(_t("el-switch"),{size:p.props.size==="small"?"small":"default",loading:(g=i.value[p.index])==null?void 0:g.loading,modelValue:p.row.status,"onUpdate:modelValue":w=>p.row.status=w,"active-value":1,"inactive-value":0,"active-text":"激活","inactive-text":"禁用","inline-prompt":!0,style:s.value,onChange:()=>_(p)},null)}},{label:"创建时间",minWidth:90,prop:"create_time",formatter:({create_time:p})=>ta(p).format("YYYY-MM-DD HH:mm:ss")},{label:"操作",fixed:"right",width:180,slot:"operation"}];function _({row:p,index:g}){ea.confirm(`确认要<strong>${p.status===0?"禁用":"激活"}</strong><strong style='color:var(--el-color-primary)'>${p.username}</strong>用户吗?`,"系统提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",dangerouslyUseHTMLString:!0,draggable:!0}).then(()=>{if(!it("edit"))return nt("权限不足！",{type:"error"}),!1;v.save({id:p.id,status:p.status}).then(w=>{w.code==200?(i.value[g]=Object.assign({},i.value[g],{loading:!0}),setTimeout(()=>{i.value[g]=Object.assign({},i.value[g],{loading:!1}),nt("已成功修改用户状态",{type:"success"})},300)):nt(w.error,{type:"error"})})}).catch(()=>{p.status===0?p.status=1:p.status=0})}const y=p=>{p&&(p.resetFields(),t.value.onTreeReset())};function D({pk:p,selected:g}){a.value.searchFields.dept_id=g?p:"",a.value.onSearch()}const L=Vi({title:e("staff.title"),row:{status:p=>{var g;return(g=p==null?void 0:p.status)!=null?g:!0},sex:p=>{var g;return(g=p==null?void 0:p.sex)!=null?g:0},role_ids:p=>{var g;return(g=p==null?void 0:p.role_ids)!=null?g:[]},dept_id:p=>{var g;return(g=p==null?void 0:p.dept_id)!=null?g:""}},formProps:{labelWidth:"100px",rules:{username:[{required:!0,message:e("staff.username"),trigger:"blur"}],password:[{required:!0,validator:(p,g,w)=>{g===""?w(new Error(e("login.passwordReg"))):pa.test(g)?w():w(new Error(e("login.passwordRuleReg")))},trigger:"blur"}],nickname:[{required:!0,message:e("staff.nickname"),trigger:"blur"}],sex:[{required:!0,message:e("staff.sex"),trigger:"blur"}],dept_id:[{required:!0,message:e("staff.dept_id"),trigger:"blur"}],status:[{required:!0,message:e("staff.status"),trigger:"blur"}],phone:[{validator:(p,g,w)=>{g===""||!g||Gi(g)?w():w(new Error(e("login.phoneCorrectReg")))},trigger:"blur"}],email:[{validator:(p,g,w)=>{g===""||!g||Fi(g)?w():w(new Error(e("login.emailCorrectReg")))},trigger:"blur"}]}},columns:({isAdd:p})=>{var g;return[{prop:"username",valueType:"input",colProps:{xs:24,sm:24,md:24,lg:12,xl:12}},{prop:"nickname",valueType:"input",colProps:{xs:24,sm:24,md:24,lg:12,xl:12}},{prop:"sex",valueType:"select",colProps:{xs:24,sm:24,md:24,lg:12,xl:12},options:[{label:"男",value:0},{label:"女",value:1}]},{prop:"password",valueType:"input",hideInForm:!p,colProps:{xs:24,sm:24,md:24,lg:12,xl:12}},{prop:"dept_id",valueType:"cascader",fieldProps:{props:{value:"id",label:"name",emitPath:!1,checkStrictly:!0}},colProps:{xs:24,sm:24,md:24,lg:12,xl:12},options:ha(qi(r.value))},{prop:"phone",valueType:"input",colProps:{xs:24,sm:24,md:24,lg:12,xl:12}},{prop:"status",valueType:"radio",colProps:{xs:24,sm:24,md:24,lg:12,xl:12},renderField:ua()},{prop:"email",valueType:"input",colProps:{xs:24,sm:24,md:24,lg:12,xl:12}},{prop:"role_ids",valueType:"select",fieldProps:{multiple:!0},options:la((g=o.value)!=null?g:[])},{prop:"remark",valueType:"textarea"}]}}),A=P();function f(p){jt({title:"裁剪、上传头像",width:"40%",closeOnClickModal:!1,fullscreen:Lt(),contentRenderer:()=>xe(Gn,{ref:A,imgSrc:p.avatar||Yt,onCropper:g=>l.value=g}),beforeSure:g=>{g(),a.value.onSearch()},closeCallBack:()=>A.value.hidePopover()})}Zi(h,({newPwd:p})=>d.value=Ki(p)?-1:Sr(p).score);function C(p){jt({title:`重置 ${p.username} 用户的密码`,width:"30%",draggable:!0,closeOnClickModal:!1,fullscreen:Lt(),contentRenderer:()=>S(na,null,[S(ia,{ref:c,model:h},{default:()=>[S(aa,{prop:"newPwd",rules:[{required:!0,message:"请输入新密码",trigger:"blur"}]},{default:()=>[S(ra,{clearable:!0,"show-password":!0,type:"password",modelValue:h.newPwd,"onUpdate:modelValue":g=>h.newPwd=g,placeholder:"请输入新密码"},null)]})]}),S("div",{class:"mt-4 flex"},[u.map(({color:g,text:w},E)=>S("div",{class:"w-[19vw]",style:{marginLeft:E!==0?"4px":0}},[S(sa,{striped:!0,"striped-flow":!0,duration:d.value===E?6:0,percentage:d.value>=E?100:0,color:g,"stroke-width":10,"show-text":!1},null),S("p",{class:"text-center",style:{color:d.value===E?g:""}},[w])]))])]),closeCallBack:()=>h.newPwd="",beforeSure:g=>{c.value.validate(w=>{w&&v.save({id:p.id,password:h.newPwd}).then(E=>{E.code==200?(nt(`已成功重置 ${p.username} 用户的密码`,{type:"success"}),g(),a.value.onSearch()):nt(E.error,{type:"error"})})})}})}function R(p){return kt(this,null,function*(){var w,E,O,k,$;const g=(w=p.role_ids)!=null?w:[];jt({title:`分配 ${p.username} 用户的角色`,props:{formInline:{username:(E=p==null?void 0:p.username)!=null?E:"",nickname:(O=p==null?void 0:p.nickname)!=null?O:"",roleOptions:(k=o.value)!=null?k:[],ids:g,staff_id:($=p==null?void 0:p.id)!=null?$:0}},width:"400px",draggable:!0,fullscreen:Lt(),fullscreenIcon:!0,closeOnClickModal:!1,contentRenderer:()=>xe(oa),beforeSure:(J,{options:ut})=>{const yt=ut.props.formInline;v.save({id:p.id,role_ids:yt.ids}).then(dt=>{dt.code==200?(nt(`用户 ${p.username} 的角色分配成功`,{type:"success"}),J(),a.value.onSearch()):nt(dt.error,{type:"error"})})}})})}return Ve(()=>kt(this,null,function*(){n.value=!0;const{data:p}=yield fa({page_type:0});r.value=Qi(p.list,"id","pid"),n.value=!1,o.value=(yield da()).data.list})),{api:v,auth:m,columns:b,deviceDetection:Lt,treeLoading:n,treeData:r,resetForm:y,onTreeSelect:D,editForm:L,buttonClass:M,handleUpload:f,handleReset:C,handleRole:R}}export{no as useStaff};
