import{_ as J}from"./form.vue_vue_type_script_setup_true_lang-CL8vm-rE.js";import{a2 as O,aU as i,J as K,K as L,b as l,aj as R,z as S,F as U,r as W,P as o,aV as q,aW as B,be as E}from"./index-BgaAjVjm.js";import{m as s}from"./menu-DM2e6oQq.js";import{u as G}from"./hooks-KDYNtrFv.js";import"./index-C2Miptc4.js";import"./index-CTRvZZ69.js";import"./base-C5PwI6TN.js";function Q(a){return typeof a=="function"||Object.prototype.toString.call(a)==="[object Object]"&&!E(a)}function ne(a){const z=O({list:s.list,fields:s.fields,save:s.save,delete:s.delete}),N=O({list:!0,create:i("add"),update:i("edit"),delete:i("delete"),batchDelete:i("delete"),import:i("import"),export:i("export"),download:i("download"),auth:i("auth")}),p=(e,t=!1)=>{switch(e){case 0:return t?"菜单":"primary";case 1:return t?"iframe":"warning";case 2:return t?"外链":"danger";case 3:return t?"按钮":"info"}},V=[{label:"菜单名称",prop:"title",align:"left",cellRenderer:({row:e})=>l(U,null,[l("span",{class:"inline-block mr-1"},[R(G(e.icon),{style:{paddingTop:"1px"}})]),l("span",null,[S(e.title)])])},{label:"菜单类型",prop:"menuType",width:100,cellRenderer:({row:e,props:t})=>{let n;return l(W("el-tag"),{size:t.size,type:p(e.menuType),effect:"plain"},Q(n=p(e.menuType,!0))?n:{default:()=>[n]})}},{label:"路由路径",prop:"path"},{label:"组件路径",prop:"component",formatter:({path:e,component:t})=>o(t)?e:t},{label:"权限标识",prop:"auth_code"},{label:"排序",prop:"rank",width:100},{label:"隐藏",prop:"showLink",formatter:({showLink:e})=>e?"否":"是",width:100},{label:"操作",fixed:"right",width:210,slot:"operation"}];function d(e){if(!e||!e.length)return;const t=[];for(let n=0;n<e.length;n++)e[n].title=S(e[n].title),d(e[n].children),t.push(e[n]);return t}const r=K({form:J,props:{formInline:e=>{var t,n,c,u,m,f,h,g,T,v,b,y,k,I,_,x,j,D,P,A,F,M;return{menuType:(t=e==null?void 0:e.menuType)!=null?t:0,higherMenuOptions:d(L(a.value.dataList)),parentId:(n=e==null?void 0:e.parentId)!=null?n:0,title:(c=e==null?void 0:e.title)!=null?c:"",name:(u=e==null?void 0:e.name)!=null?u:"",path:(m=e==null?void 0:e.path)!=null?m:"",component:(f=e==null?void 0:e.component)!=null?f:"",rank:(h=e==null?void 0:e.rank)!=null?h:99,redirect:(g=e==null?void 0:e.redirect)!=null?g:"",icon:(T=e==null?void 0:e.icon)!=null?T:"",extraIcon:(v=e==null?void 0:e.extraIcon)!=null?v:"",enterTransition:(b=e==null?void 0:e.enterTransition)!=null?b:"",leaveTransition:(y=e==null?void 0:e.leaveTransition)!=null?y:"",activePath:(k=e==null?void 0:e.activePath)!=null?k:"",auth_code:(I=e==null?void 0:e.auth_code)!=null?I:"",frameSrc:(_=e==null?void 0:e.frameSrc)!=null?_:"",frameLoading:(x=e==null?void 0:e.frameLoading)!=null?x:!0,keepAlive:(j=e==null?void 0:e.keepAlive)!=null?j:!1,hiddenTag:(D=e==null?void 0:e.hiddenTag)!=null?D:!1,fixedTag:(P=e==null?void 0:e.fixedTag)!=null?P:!1,showLink:(A=e==null?void 0:e.showLink)!=null?A:!0,showParent:(F=e==null?void 0:e.showParent)!=null?F:!1,id:(M=e==null?void 0:e.id)!=null?M:0}}}});function C(e){return q(e)}function H(e){a.value&&B(a.value.openDialog)?a.value.openDialog(!0,{parentId:e.id}):console.error("openDialog method is not defined on the child component")}return{api:z,auth:N,columns:V,resultFormat:C,editForm:r,openDialog:H}}export{ne as useMenu};
