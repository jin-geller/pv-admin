import{R as s}from"./index-C2Miptc4.js";import{a2 as S,aX as q,aY as D,d as E,n as w,r as d,o as f,g as _,h as a,b as e,u,C as k,c,F as y,t as h,e as I,y as V,v as L,f as P}from"./index-BgaAjVjm.js";import{u as z}from"./viewsPublic-BlInyJTa.js";const H=S({nickname:[{required:!0,message:"用户昵称为必填项",trigger:"blur"}],username:[{required:!0,message:"用户名称为必填项",trigger:"blur"}],password:[{required:!0,message:"用户密码为必填项",trigger:"blur"}],phone:[{validator:(v,m,n)=>{m===""||q(m)?n():n(new Error("请输入正确的手机号码格式"))},trigger:"blur"}],email:[{validator:(v,m,n)=>{m===""||D(m)?n():n(new Error("请输入正确的邮箱格式"))},trigger:"blur"}]}),J={key:0},j=E({__name:"index",props:{formInline:{default:()=>({title:"新增",higherDeptOptions:[],dept_id:0,nickname:"",username:"",password:"",phone:"",email:"",sex:"",status:1,remark:"",role_ids:[],roleOptions:[]})}},setup(v,{expose:m}){const n=v,U=[{value:0,label:"男"},{value:1,label:"女"}],b=w(),{switchStyle:C}=z(),o=w(n.formInline);function R(){return b.value}return m({getRef:R}),(Q,t)=>{const p=d("el-input"),r=d("el-form-item"),x=d("el-option"),g=d("el-select"),F=d("el-cascader"),O=d("el-switch"),B=d("el-row"),N=d("el-form");return f(),_(N,{ref_key:"ruleFormRef",ref:b,model:o.value,rules:u(H),"label-width":"82px"},{default:a(()=>[e(B,{gutter:30},{default:a(()=>[e(u(s),{value:12,xs:24,sm:24},{default:a(()=>[e(r,{label:"姓名",prop:"username"},{default:a(()=>[e(p,{modelValue:o.value.username,"onUpdate:modelValue":t[0]||(t[0]=l=>o.value.username=l),clearable:"",placeholder:"请输入姓名"},null,8,["modelValue"])]),_:1})]),_:1}),e(u(s),{value:12,xs:24,sm:24},{default:a(()=>[e(r,{label:"昵称",prop:"nickname"},{default:a(()=>[e(p,{modelValue:o.value.nickname,"onUpdate:modelValue":t[1]||(t[1]=l=>o.value.nickname=l),clearable:"",placeholder:"请输入昵称"},null,8,["modelValue"])]),_:1})]),_:1}),o.value.title==="新增"?(f(),_(u(s),{key:0,value:12,xs:24,sm:24},{default:a(()=>[e(r,{label:"密码",prop:"password"},{default:a(()=>[e(p,{modelValue:o.value.password,"onUpdate:modelValue":t[2]||(t[2]=l=>o.value.password=l),clearable:"",placeholder:"请输入密码"},null,8,["modelValue"])]),_:1})]),_:1})):k("",!0),e(u(s),{value:12,xs:24,sm:24},{default:a(()=>[e(r,{label:"手机号",prop:"phone"},{default:a(()=>[e(p,{modelValue:o.value.phone,"onUpdate:modelValue":t[3]||(t[3]=l=>o.value.phone=l),clearable:"",placeholder:"请输入手机号"},null,8,["modelValue"])]),_:1})]),_:1}),e(u(s),{value:12,xs:24,sm:24},{default:a(()=>[e(r,{label:"邮箱",prop:"email"},{default:a(()=>[e(p,{modelValue:o.value.email,"onUpdate:modelValue":t[4]||(t[4]=l=>o.value.email=l),clearable:"",placeholder:"请输入邮箱"},null,8,["modelValue"])]),_:1})]),_:1}),e(u(s),{value:12,xs:24,sm:24},{default:a(()=>[e(r,{label:"性别"},{default:a(()=>[e(g,{modelValue:o.value.sex,"onUpdate:modelValue":t[5]||(t[5]=l=>o.value.sex=l),placeholder:"请选择性别",class:"w-full",clearable:""},{default:a(()=>[(f(),c(y,null,h(U,(l,i)=>e(x,{key:i,label:l.label,value:l.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(u(s),{value:12,xs:24,sm:24},{default:a(()=>[e(r,{label:"归属部门"},{default:a(()=>[e(F,{modelValue:o.value.dept_id,"onUpdate:modelValue":t[6]||(t[6]=l=>o.value.dept_id=l),class:"w-full",options:o.value.higherDeptOptions,props:{value:"id",label:"name",emitPath:!1,checkStrictly:!0},clearable:"",filterable:"",placeholder:"请选择归属部门"},{default:a(({node:l,data:i})=>[I("span",null,V(i.name),1),l.isLeaf?k("",!0):(f(),c("span",J," ("+V(i.children.length)+") ",1))]),_:1},8,["modelValue","options"])]),_:1})]),_:1}),e(u(s),{value:12,xs:24,sm:24},{default:a(()=>[e(r,{label:"用户状态"},{default:a(()=>[e(O,{modelValue:o.value.status,"onUpdate:modelValue":t[7]||(t[7]=l=>o.value.status=l),"inline-prompt":"","active-value":1,"inactive-value":0,"active-text":"启用","inactive-text":"停用",style:L(u(C))},null,8,["modelValue","style"])]),_:1})]),_:1}),e(u(s),{value:12,xs:24,sm:24},{default:a(()=>[e(r,{label:"关联角色",prop:"ids"},{default:a(()=>[e(g,{modelValue:o.value.role_ids,"onUpdate:modelValue":t[8]||(t[8]=l=>o.value.role_ids=l),placeholder:"请选择",class:"w-full",clearable:"",multiple:""},{default:a(()=>[(f(!0),c(y,null,h(o.value.roleOptions,(l,i)=>(f(),_(x,{key:i,value:l.id,label:l.name},{default:a(()=>[P(V(l.name),1)]),_:2},1032,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(u(s),null,{default:a(()=>[e(r,{label:"备注"},{default:a(()=>[e(p,{modelValue:o.value.remark,"onUpdate:modelValue":t[9]||(t[9]=l=>o.value.remark=l),placeholder:"请输入备注信息",type:"textarea"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"])}}});export{j as default};
